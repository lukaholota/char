import { Prisma, PrismaClient, Feats, Source, Language, Races, Subraces, ArmorType } from '@prisma/client';

// We now pass the prisma client from the main seed.ts

interface FeatCreateInput {
  name: Feats;
  engName: string;
  source: Source;
  description: string;
  shortDescription: string;
  prerequisiteAbilityScore?: Prisma.JsonValue;
  prerequisiteLevel?: number;
  prerequisiteProficiency?: Prisma.JsonValue;
  prerequisiteSpellcasting?: boolean;
  prerequisiteFeat?: string;
  raceRestriction?: Races[];
  subraceRestriction?: Subraces[];
  grantedASI?: Prisma.JsonValue;
  grantedSkillCount?: number;
  grantedSkills?: Prisma.JsonValue;
  grantedLanguageCount?: number;
  grantedLanguages?: Language[];
  grantedToolProficiencies?: Prisma.JsonValue;
  grantedWeaponProficiencies?: Prisma.JsonValue;
  grantedArmorProficiencies?: ArmorType[];
  grantsFeature?: Prisma.FeatureCreateNestedManyWithoutGrantsByFeatInput;
}

const feats: FeatCreateInput[] = [
  {
    name: Feats.ALERT,
    engName: 'Alert',
    source: Source.PHB,
    shortDescription: 'Ви завжди напоготові. Отримуєте бонуси до ініціативи та захист від прихованих атакувальників.',
    description: `Ви завжди напоготові до небезпеки, що дає вам наступні переваги:

- Ви отримуєте бонус +5 до ініціативи.
- Ви не можете бути застигнутим зненацька, поки ви в свідомості.
- Інші істоти не отримують перевагу на кидки атаки проти вас як результат того, що вони приховані від вас.`,
  },
  {
    name: Feats.ATHLETE,
    engName: 'Athlete',
    source: Source.PHB,
    shortDescription: 'Покращені атлетичні здібності: легше вставати, лазити та стрибати.',
    description: `Ви пройшли інтенсивні фізичні тренування, щоб отримати наступні переваги:

- Збільште ваш показник Сили або Спритності на 1, до максимуму 20.
- Коли ви лежите ничком, підйом з землі коштує вам лише 5 фт руху замість половини вашої швидкості.
- Лазіння не коштує вам додаткового руху.
- Ви можете здійснити стрибок з розбігу після руху лише на 5 фт, а не 10 фт.`,
    grantedASI: { STR_OR_DEX: 1 },
  },
  {
    name: Feats.ACTOR,
    engName: 'Actor',
    source: Source.PHB,
    shortDescription: 'Майстер перевтілення та мімікрії. Збільште Харизму та отримайте перевагу на обман.',
    description: `Вправний у наслідуванні та драмі, ви отримуєте наступні переваги:

- Збільште ваш показник Харизми на 1, до максимуму 20.
- Ви отримуєте перевагу на перевірки Харизми (Обман) та Харизми (Виступ), коли намагаєтеся видати себе за іншу особу.
- Ви можете імітувати мовлення іншої істоти або звуки, що видаються іншими істотами. Ви повинні чути істоту, як вона розмовляє, або чути звуки, що вона видає, протягом щонайменше 1 хвилини. Успішна перевірка вашого Інтелекту (Розслідування) проти вашої Харизми (Виступ) дозволяє слухачеві зрозуміти, що звук імітований.`,
    grantedASI: { CHA: 1 },
  },
  {
    name: Feats.CHARGER,
    engName: 'Charger',
    source: Source.PHB,
    shortDescription: 'Використовуйте Ривок, щоб здійснити потужну атаку або штовхання бонусною дією.',
    description: `Коли ви використовуєте дію Ривок, ви можете використати бонусну дію, щоб здійснити одну рукопашну атаку зброєю або штовхнути істоту.

Якщо ви перемістилися щонайменше на 10 фт по прямій лінії безпосередньо перед використанням цієї бонусної дії, ви або отримуєте бонус +5 до кидка шкоди [damage roll] від атаки (якщо ви обрали атакувати і влучили), або відштовхуєте ціль на відстань до 10 фт від себе (якщо ви обрали штовхання і воно було успішним).`,
  },
  {
    name: Feats.CROSSBOW_EXPERT,
    engName: 'Crossbow Expert',
    source: Source.PHB,
    shortDescription: 'Майстерність у використанні арбалетів: ігноруйте перезарядку та стріляйте впритул.',
    description: `Ви пройшли інтенсивне тренування з арбалетами, що дає вам наступні переваги:

- Ви ігноруєте властивість перезарядки для арбалетів, з якими ви володієте.
- Перебування в межах 5 фт від ворожої істоти не накладає перешкоду на ваші кидки дальніх атак.
- Коли ви використовуєте дію Атака і атакуєте одноручною зброєю, ви можете використати бонусну дію, щоб атакувати ручним арбалетом, який ви тримаєте.`,
  },
  {
    name: Feats.DEFENSIVE_DUELIST,
    engName: 'Defensive Duelist',
    source: Source.PHB,
    shortDescription: 'Використовуйте реакцію, щоб збільшити свій КБ, коли вас атакують фехтувальною зброєю.',
    description: `Коли ви тримаєте фехтувальну зброю, з якою ви володієте, і інша істота влучає по вас рукопашною атакою, ви можете використати свою реакцію, щоб додати ваш бонус майстерності до вашого КБ проти цієї атаки, що потенційно може спричинити промах.`,
    prerequisiteAbilityScore: { DEX: 13 },
  },
  {
    name: Feats.DUAL_WIELDER,
    engName: 'Dual Wielder',
    source: Source.PHB,
    shortDescription: 'Покращене володіння двома зброями: бонус до КБ та використання нелегкої зброї.',
    description: `Ви опанували бій двома зброями, отримавши наступні переваги:

- Ви отримуєте бонус +1 до КБ, поки тримаєте окрему рукопашну зброю в кожній руці.
- Ви можете використовувати бій двома зброями, навіть якщо рукопашні зброї в кожній руці не є легкими.
- Ви можете витягти або сховати дві одноручні зброї, коли зазвичай ви могли б витягти або сховати лише одну.`,
  },
  {
    name: Feats.DUNGEON_DELVER,
    engName: 'Dungeon Delver',
    source: Source.PHB,
    shortDescription: 'Майстер виживання в підземеллях: перевага на пошук пасток та опір шкоді від них.',
    description: `Пильні до прихованих пасток і секретних дверей, знайдених у багатьох підземеллях, ви отримуєте наступні переваги:

- Ви маєте перевагу на перевірки Мудрості (Уважність) та Інтелекту (Розслідування), зроблені для пошуку секретних дверей.
- Ви маєте перевагу на ряткидки, зроблені для уникнення або опору пасткам.
- Ви маєте опір до шкоди, заподіяної пастками.
- Ви можете шукати пастки, рухаючись зі своєю нормальною швидкістю, замість того, щоб рухатися з половинною швидкістю.`,
  },
  {
    name: Feats.DURABLE,
    engName: 'Durable',
    source: Source.PHB,
    shortDescription: 'Збільште Витривалість та відновлюйте мінімальну кількість ХП під час короткого відпочинку.',
    description: `Тверді та витривалі, ви отримуєте наступні переваги:

- Збільште ваш показник Витривалості на 1, до максимуму 20.
- Коли ви кидаєте Кубик Здоров'я, щоб відновити хіт-поїнти, мінімальна кількість ХП, яку ви відновлюєте від кидка, дорівнює подвоєному модифікатору вашої Витривалості (мінімум 2).`,
    grantedASI: { CON: 1 },
  },
  {
    name: Feats.ELEMENTAL_ADEPT,
    engName: 'Elemental Adept',
    source: Source.PHB,
    shortDescription: 'Ваші заклинання ігнорують опір обраній стихії та наносять більше шкоди.',
    description: `Коли ви отримуєте цей рис, оберіть один тип шкоди: кислота, холод, вогонь, блискавка або грім.

Заклинання, які ви накладаєте, ігнорують опір до шкоди обраного типу. Крім того, коли ви кидаєте кубики шкоди для заклинання, яке ви накладаєте, що завдає шкоди цього типу, ви можете вважати будь-яку 1 на кубику шкоди за 2.

Ви можете обирати цей рис кілька разів. Кожного разу, коли ви це робите, ви повинні обрати інший тип шкоди.`,
    prerequisiteSpellcasting: true,
  },
  {
    name: Feats.GRAPPLER,
    engName: 'Grappler',
    source: Source.PHB,
    shortDescription: 'Майстер захоплень: перевага на атаки та здатність сковати ворога.',
    description: `Ви розвинули навички, необхідні для того, щоб міцно триматися в боротьбі. Ви отримуєте наступні переваги:

- Ви маєте перевагу на кидки атаки проти істоти, яку ви захопили.
- Ви можете використати свою дію, щоб спробувати сковати істоту, захоплену вами. Для цього зробіть ще одну перевірку захоплення. При успіху ви та істота обоє стаєте скованими, доки захоплення не припиниться.`,
    prerequisiteAbilityScore: { STR: 13 },
  },
  {
    name: Feats.GREAT_WEAPON_MASTER,
    engName: 'Great Weapon Master',
    source: Source.PHB,
    shortDescription: 'Використовуйте потужні атаки важкою зброєю: -5 до влучання для +10 до шкоди.',
    description: `Ви навчилися використовувати вагу своєї зброї собі на користь, дозволяючи її інерції посилювати ваші удари. Ви отримуєте наступні переваги:

- У свій хід, коли ви наносите критичний удар рукопашною зброєю або знижуєте хіт-поїнти істоти до 0 нею, ви можете використати бонусну дію, щоб здійснити одну рукопашну атаку зброєю.
- Перед тим, як ви зробите рукопашну атаку важкою зброєю, з якою ви володієте, ви можете обрати штраф -5 до кидка атаки. Якщо атака влучає, ви додаєте +10 до шкоди від атаки.`,
  },
  {
    name: Feats.HEALER,
    engName: 'Healer',
    source: Source.PHB,
    shortDescription: 'Майстерне використання лікувальних наборів для стабілізації та лікування союзників.',
    description: `Ви досвідчений лікар, що дозволяє швидко заліковувати рани та повертати союзників до бою. Ви отримуєте наступні переваги:

- Коли ви використовуєте набір цілителя, щоб стабілізувати вмираючу істоту, ця істота також відновлює 1 хіт-поїнт.
- Дією ви можете використати один заряд набору цілителя, щоб полікувати істоту та відновити 1к6 + 4 хіт-поїнтів плюс додаткову кількість хіт-поїнтів, рівну кількості Кубиків Здоров'я істоти. Істота не може відновити хіт-поїнти за допомогою цієї переваги знову, доки не закінчить короткий або тривалий відпочинок.`,
  },
  {
    name: Feats.HEAVILY_ARMORED,
    engName: 'Heavily Armored',
    source: Source.PHB,
    shortDescription: 'Отримайте володіння важкими обладунками та збільште Силу.',
    description: `Ви пройшли тренування, необхідне для носіння важких обладунків, отримавши наступні переваги:

- Збільште ваш показник Сили на 1, до максимуму 20.
- Ви отримуєте володіння важкими обладунками.`,
    prerequisiteProficiency: { armor: ['MEDIUM'] },
    grantedASI: { STR: 1 },
    grantedArmorProficiencies: [ArmorType.HEAVY],
  },
  {
    name: Feats.HEAVY_ARMOR_MASTER,
    engName: 'Heavy Armor Master',
    source: Source.PHB,
    shortDescription: 'Збільште Силу та зменшуйте вхідну фізичну шкоду, поки носите важку броню.',
    description: `Ви можете використовувати свій обладунок, щоб відхиляти удари, які вбили б інших. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили на 1, до максимуму 20.
- Поки ви носите важкі обладунки, дробяча, колюча та рубляча шкода, яку ви отримуєте від немагічних атак, зменшується на 3.`,
    prerequisiteProficiency: { armor: ['HEAVY'] },
    grantedASI: { STR: 1 },
  },
  {
    name: Feats.INSPIRING_LEADER,
    engName: 'Inspiring Leader',
    source: Source.PHB,
    shortDescription: 'Надихайте союзників своєю промовою, надаючи їм тимчасові хіт-поїнти.',
    description: `Ви можете витратити 10 хвилин, надихаючи своїх супутників, зміцнюючи їхню волю до боротьби. Коли ви це робите, оберіть до шести дружніх істот (включаючи себе) у межах 30 фт від вас, які можуть бачити або чути вас і можуть вас зрозуміти. Кожна істота отримує тимчасові хіт-поїнти, рівні вашому рівню + модифікатор вашої Харизми. Істота не може отримати тимчасові хіт-поїнти від цього риса знову, доки не закінчить короткий або тривалий відпочинок.`,
    prerequisiteAbilityScore: { CHA: 13 },
  },
  {
    name: Feats.KEEN_MIND,
    engName: 'Keen Mind',
    source: Source.PHB,
    shortDescription: 'Надзвичайна пам’ять та орієнтація. Збільште Інтелект та завжди знайте час і напрямок.',
    description: `Ви маєте розум, який може точно відстежувати час, напрямок та деталі. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту на 1, до максимуму 20.
- Ви завжди знаєте, де північ.
- Ви завжди знаєте кількість годин, що залишилися до наступного сходу або заходу сонця.
- Ви можете точно пригадати все, що ви бачили або чули протягом останнього місяця.`,
    grantedASI: { INT: 1 },
  },
  {
    name: Feats.LIGHTLY_ARMORED,
    engName: 'Lightly Armored',
    source: Source.PHB,
    shortDescription: 'Отримайте володіння легкими обладунками та збільште Силу або Спритність.',
    description: `Ви пройшли тренування, необхідне для носіння легких обладунків, отримавши наступні переваги:

- Збільште ваш показник Сили або Спритність на 1, до максимуму 20.
- Ви отримуєте володіння легкими обладунками.`,
    grantedASI: { STR_OR_DEX: 1 },
    grantedArmorProficiencies: [ArmorType.LIGHT],
  },
  {
    name: Feats.LINGUIST,
    engName: 'Linguist',
    source: Source.PHB,
    shortDescription: 'Вивчіть три мови, збільште Інтелект та створюйте шифровані повідомлення.',
    description: `Ви вивчили мови та способи створення шифрованих повідомлень. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту на 1, до максимуму 20.
- Ви вивчаєте три мови на ваш вибір.
- Ви можете створювати письмові шифри. Інші не можуть розшифрувати код, якщо ви їх не навчите, вони не досягнуть успіху в перевірці Інтелекту (СК дорівнює вашому показнику Інтелекту + ваш бонус майстерності), або не використають магію для розшифровки.`,
    grantedASI: { INT: 1 },
    grantedLanguageCount: 3,
  },
  {
    name: Feats.LUCKY,
    engName: 'Lucky',
    source: Source.PHB,
    shortDescription: 'У вас є 3 очки удачі, які дозволяють перекидати кубики в критичні моменти.',
    description: `У вас є незрозуміла удача, яка, здається, з’являється саме тоді, коли вона потрібна.

У вас є 3 очки удачі. Кожного разу, коли ви робите кидок атаки [attack roll], перевірку характеристики [ability check] або ряткидок, ви можете витратити одне очко удачі, щоб кинути додатковий к20. Ви можете витратити очко удачі після того, як ви кинули кубик, але до того, як буде визначено результат. Потім ви обираєте, який з к20 використовувати для кидка атаки, перевірки характеристики або ряткидка.

Ви також можете витратити одне очко удачі, коли проти вас робиться кидок атаки. Киньте к20, а потім оберіть, чи використовуватиме атакуючий свій кидок, чи ваш.

Якщо більше ніж одна істота витрачає очко удачі, щоб вплинути на результат кидка, ці очки скасовують одне одного; додаткові кубики не кидаються.

Ви відновлюєте витрачені очки удачі, коли закінчуєте тривалий відпочинок.`,
  },
  {
    name: Feats.MAGE_SLAYER,
    engName: 'Mage Slayer',
    source: Source.PHB,
    shortDescription: 'Спеціаліст із боротьби з магами: реакція на заклини та перевага на ряткидки.',
    description: `Ви опанували техніки боротьби з магами, отримавши наступні переваги:

- Коли істота накладає заклинання в межах 5 фт від вас, ви можете використати свою реакцію, щоб здійснити рукопашну атаку зброєю проти цієї істоти.
- Коли ви завдаєте шкоди істоті, яка концентрується на заклинанні, ця істота має перешкоду на ряткидок, який вона робить для підтримки концентрації.
- Ви маєте перевагу на ряткидки проти заклинань, накладених істотами в межах 5 фт від вас.`,
  },
  {
    name: Feats.MAGIC_INITIATE,
    engName: 'Magic Initiate',
    source: Source.PHB,
    shortDescription: 'Вивчіть 2 кантріпи та 1 закляття 1 рівня з списку іншого класу.',
    description: `Оберіть клас: бард, клірик, друїд, чародій, чарівник або чорнокнижник. Ви вивчаєте два кантріпи на ваш вибір зі списку заклинань цього класу.

Додатково, оберіть одне закляття 1 рівня для вивчення з того ж списку. Використовуючи цей рис, ви можете накласти це закляття один раз на його найнижчому рівні, і ви повинні закінчити тривалий відпочинок, перш ніж зможете накласти його знову.

Ваша характеристика для заклинання залежить від обраного класу: Харизма для барда, чародія або чорнокнижника; Мудрість для клірика або друїда; або Інтелект для чарівника.`,
  },
  {
    name: Feats.MARTIAL_ADEPT,
    engName: 'Martial Adept',
    source: Source.PHB,
    shortDescription: 'Вивчіть 2 маневри воїна та отримайте 1 кубик майстерності к6.',
    description: `Ваше військове тренування дозволило вам опанувати особливі бойові маневри. Ви отримуєте наступні переваги:

- Ви вивчаєте два маневри на ваш вибір з архетипу Майстер Битви [Battle Master] класу Воїн. Якщо маневр вимагає від цілі зробити ряткидок для опору його ефектам, СК ряткидка дорівнює 8 + модифікатор вашої Сили або Спритності + ваш бонус майстерності.
- Якщо у вас вже є кубики майстерності [superiority dice], ви отримуєте ще один; інакше ви отримуєте один кубик майстерності к6. Цей кубик використовується для живлення ваших маневрів. Кубик майстерності витрачається, коли ви його використовуєте, і відновлюється після короткого або тривалого відпочинку.`,
  },
  {
    name: Feats.MEDIUM_ARMOR_MASTER,
    engName: 'Medium Armor Master',
    source: Source.PHB,
    shortDescription: 'Ефективніше використання середніх обладунків: вища межа Спритності та відсутність перешкод на скритність.',
    description: `Ви навчилися рухатися граціозно в середніх обладунках. Ви отримуєте наступні переваги:

- Носіння середніх обладунків не накладає перешкоду на ваші перевірки Спритності (Непомітність).
- Коли ви носите середні обладунки, ви можете додати 3, а не 2, до вашого КБ, якщо ваш показник Спритності 16 або вище.`,
    prerequisiteProficiency: { armor: ['MEDIUM'] },
  },
  {
    name: Feats.MOBILE,
    engName: 'Mobile',
    source: Source.PHB,
    shortDescription: 'Збільште швидкість та уникайте принагідних атак після власних атак.',
    description: `Ви винятково швидкі та спритні. Ви отримуєте наступні переваги:

- Ваша швидкість збільшується на 10 фт.
- Коли ви використовуєте дію Ривок, важкопрохідна місцевість не коштує вам додаткового руху в цей хід.
- Коли ви здійснюєте рукопашну атаку проти істоти, ви не провокуєте принагідні атаки від цієї істоти до кінця свого ходу, незалежно від того, влучили ви чи ні.`,
  },
  {
    name: Feats.MODERATELY_ARMORED,
    engName: 'Moderately Armored',
    source: Source.PHB,
    shortDescription: 'Отримайте володіння середніми обладунками, щитами та збільште Силу або Спритність.',
    description: `Ви пройшли тренування, необхідне для носіння середніх обладунків та використання щитів, отримавши наступні переваги:

- Збільште ваш показник Сили або Спритності на 1, до максимуму 20.
- Ви отримуєте володіння середніми обладунками та щитами.`,
    prerequisiteProficiency: { armor: ['LIGHT'] },
    grantedASI: { STR_OR_DEX: 1 },
    grantedArmorProficiencies: [ArmorType.MEDIUM, ArmorType.SHIELD],
  },
  {
    name: Feats.MOUNTED_COMBATANT,
    engName: 'Mounted Combatant',
    source: Source.PHB,
    shortDescription: 'Майстерність бою верхи: перевага на атаки та захист вашого скакуна.',
    description: `Ви небезпечний ворог, коли боретеся верхи. Перебуваючи верхи та не будучи недієздатним, ви отримуєте наступні переваги:

- Ви маєте перевагу на кидки рукопашних атак проти неверхових істот, розмір яких менший за розмір вашого скакуна.
- Ви можете змусити атаку, націлену на вашого скакуна, натомість націлитися на вас.
- Якщо ваш скакун піддається ефекту, який дозволяє йому зробити ряткидок Спритності, щоб отримати лише половину шкоди, він натомість не отримує шкоди у разі успішного ряткидка і лише половину шкоди у разі невдалого.`,
  },
  {
    name: Feats.OBSERVANT,
    engName: 'Observant',
    source: Source.PHB,
    shortDescription: 'Виняткова уважність та вміння читати по губах. Збільште Інтелект або Мудрість.',
    description: `Ви швидко помічаєте деталі свого оточення. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту або Мудрості на 1, до максимуму 20.
- Якщо ви бачите губи істоти, коли вона розмовляє мовою, яку ви розумієте, ви можете зрозуміти, що вона говорить, читаючи по губах.
- Ви отримуєте бонус +5 до ваших показників пасивної Мудрості (Уважність) та пасивного Інтелекту (Розслідування).`,
    grantedASI: { INT_OR_WIS: 1 },
  },
  {
    name: Feats.POLEARM_MASTER,
    engName: 'Polearm Master',
    source: Source.PHB,
    shortDescription: 'Майстерність у використанні древкової зброї: додаткова атака та принагідна атака при наближенні ворога.',
    description: `Ви можете тримати ворогів на відстані за допомогою древкової зброї. Ви отримуєте наступні переваги:

- Коли ви використовуєте дію Атака і атакуєте тільки жердиною, алебардою або глефою, ви можете використати бонусну дію, щоб здійснити рукопашну атаку іншим кінцем зброї. Кубик шкоди для цієї атаки — к4, і вона наносить дроблячу шкоду.
- Поки ви тримаєте алебарду, глефу, піку або жердину, інші істоти провокують принагідну атаку від вас, коли вони входять у межі вашої досяжності з цією зброєю.`,
  },
  {
    name: Feats.RESILIENT,
    engName: 'Resilient',
    source: Source.PHB,
    shortDescription: 'Збільште обрану характеристику та отримайте володіння відповідним ряткидком.',
    description: `Оберіть один показник характеристики. Ви отримуєте наступні переваги:

- Збільште обраний показник характеристики на 1, до максимуму 20.
- Ви отримуєте володіння ряткидками, що використовують обрану характеристику.`,
    grantedASI: { ANY: 1 },
  },
  {
    name: Feats.RITUAL_CASTER,
    engName: 'Ritual Caster',
    source: Source.PHB,
    shortDescription: 'Отримайте книгу ритуалів обраного класу для накладання ритуальних заклинань.',
    description: `Ви вивчили низку заклинань, які можна накладати як ритуали. Ці заклинання записані в книзі ритуалів, яку ви повинні тримати в руках, коли накладаєте їх.

Коли ви берете цей рис, оберіть один із наступних класів: бард, клірик, друїд, чародій, чарівник або чорнокнижник. Ви повинні мати Інтелект або Мудрість щонайменше 13, щоб обрати цей рис.

Ви отримуєте книгу ритуалів, що містить два заклинання 1-го рівня на ваш вибір зі списку обраного класу, що мають властивість ритуалу. Ці заклинання не враховуються у вашу кількість відомих заклинань. Ваша характеристика для цих заклинань залежить від обраного класу.`,
    prerequisiteAbilityScore: { INT: 13, WIS: 13, or: true }, // It's INT or WIS, but JSON usually handles as AND or OR. I'll stick to a simpler representation.
  },
  {
    name: Feats.SAVAGE_ATTACKER,
    engName: 'Savage Attacker',
    source: Source.PHB,
    shortDescription: 'Раз на хід перекиньте шкоду від рукопашної атаки та оберіть кращий результат.',
    description: `Один раз у кожен зі своїх ходів, коли ви кидаєте шкоду від рукопашної атаки зброєю, ви можете перекинути кубики шкоди зброї та використати будь-який результат.`,
  },
  {
    name: Feats.SENTINEL,
    engName: 'Sentinel',
    source: Source.PHB,
    shortDescription: 'Майстер контролю поля бою: зупиняйте ворогів принагідними атаками та захищайте союзників.',
    description: `Ви навчилися використовувати кожну можливість, щоб пробити захист ворога. Ви отримуєте наступні переваги:

- Коли ви влучаєте по істоті принагідною атакою, швидкість цієї істоти стає 0 до кінця поточного ходу.
- Істоти провокують принагідні атаки від вас, навіть якщо вони роблять Відступ перед тим, як покинути вашу досяжність.
- Коли істота в межах 5 фт від вас робить атаку проти іншої цілі, крім вас (і ця ціль не має цього риса), ви можете використати свою реакцію, щоб здійснити рукопашну атаку зброєю проти атакуючої істоти.`,
  },
  {
    name: Feats.SHARPSHOOTER,
    engName: 'Sharpshooter',
    source: Source.PHB,
    shortDescription: 'Снайперські постріли: ігноруйте штрафи за відстань та укриття, підвищуйте шкоду за рахунок влучності.',
    description: `Ви опанували дальню зброю і можете робити постріли, які здаються неможливими. Ви отримуєте наступні переваги:

- Стрільба на велику дистанцію не накладає перешкоду на ваші кидки дальніх атак зброєю.
- Ваші дальні атаки зброєю ігнорують половинне укриття та три чверті укриття.
- Перед тим, як ви зробите дальню атаку зброєю, з якою ви володієте, ви можете обрати штраф -5 до кидка атаки. Якщо атака влучає, ви додаєте +10 до шкоди від атаки.`,
  },
  {
    name: Feats.SHIELD_MASTER,
    engName: 'Shield Master',
    source: Source.PHB,
    shortDescription: 'Ефективне використання щита для штовхання ворогів та захисту від заклинань.',
    description: `Ви використовуєте свій щит не лише для захисту, а й для нападу. Ви отримуєте наступні переваги, поки носите щит:

- Якщо ви використовуєте дію Атака у свій хід, ви можете використати бонусну дію, щоб спробувати штовхнути істоту в межах 5 фт від вас своїм щитом.
- Якщо ви не недієздатні, ви можете додати бонус КБ вашого щита до будь-якого ряткидка Спритності, який ви робите проти заклинання або іншого шкідливого ефекту, націленого тільки на вас.
- Якщо ви піддаєтеся впливу ефекту, який дозволяє вам зробити ряткидок Спритності, щоб отримати лише половину шкоди, ви можете використати свою реакцію, щоб не отримати шкоди, якщо ви досягнете успіху в ряткидку.`,
  },
  {
    name: Feats.SKILLED,
    engName: 'Skilled',
    source: Source.PHB,
    shortDescription: 'Отримайте володіння в будь-якій комбінації з трьох навичок або інструментів.',
    description: `Ви отримуєте володіння в будь-якій комбінації з трьох навичок або інструментів на ваш вибір.`,
    grantedSkillCount: 3,
  },
  {
    name: Feats.SKULKER,
    engName: 'Skulker',
    source: Source.PHB,
    shortDescription: 'Мастер скритності: ховайтеся при слабкому освітленні та не розкривайтеся при промаху.',
    description: `Ви навчилися ховатися в тінях і використовувати найменше укриття. Ви отримуєте наступні переваги:

- Ви можете спробувати сховатися, коли ви лише злегка закриті [lightly obscured] від істоти, від якої намагаєтеся сховатися.
- Коли ви приховані від істоти і промахуєтеся по ній дальньою атакою зброєю, здійснення атаки не видає ваше положення.
- Тьмяне світло не накладає перешкоду на ваші перевірки Мудрості (Уважність), засновані на зорі.`,
    prerequisiteAbilityScore: { DEX: 13 },
  },
  {
    name: Feats.SPELL_SNIPER,
    engName: 'Spell Sniper',
    source: Source.PHB,
    shortDescription: 'Ваші заклинання мають подвоєну дистанцію та ігнорують укриття. Вивчіть 1 атакувальний кантріп.',
    description: `Ви навчилися технікам, що дозволяють наносити точні магічні удари здалеку. Ви отримуєте наступні переваги:

- Коли ви накладаєте заклинання, що вимагає кидка атаки, дистанція заклинання подвоюється.
- Ваші дальні магічні атаки ігнорують половинне укриття та три чверті укриття.
- Ви вивчаєте один кантріп, що вимагає кидка атаки. Оберіть кантріп зі списку бардів, кліриків, друїдів, чародіїв, чорнокнижників або чарівників. Ваша характеристика для цього кантріпа залежить від обраного класу.`,
    prerequisiteSpellcasting: true,
  },
  {
    name: Feats.TAVERN_BRAWLER,
    engName: 'Tavern Brawler',
    source: Source.PHB,
    shortDescription: 'Майстер кулачного бою та імпровізованої зброї. Збільште Силу або Витривалість.',
    description: `Звиклий до грубої бійки з використанням будь-якої підручної зброї, ви отримуєте наступні переваги:

- Збільште ваш показник Сили або Витривалості на 1, до максимуму 20.
- Ви отримуєте володіння імпровізованою зброєю.
- Ваші беззбройні удари наносять 1к4 шкоди.
- Коли ви влучаєте по істоті беззбройним ударом або імпровізованою зброєю у свій хід, ви можете використати бонусну дію, щоб спробувати захопити ціль.`,
    grantedASI: { STR_OR_CON: 1 },
  },
  {
    name: Feats.TOUGH,
    engName: 'Tough',
    source: Source.PHB,
    shortDescription: 'Ваш максимум хіт-поїнтів збільшується на суму, що дорівнює подвоєному вашому рівню.',
    description: `Ваш максимум хіт-поїнтів збільшується на суму, що дорівнює подвоєному вашому рівню, коли ви берете цю рису. Кожного разу, коли ви отримуєте рівень після цього, ваш максимум хіт-поїнтів збільшується на додаткові 2 хіт-поїнти.`,
  },
  {
    name: Feats.WAR_CASTER,
    engName: 'War Caster',
    source: Source.PHB,
    shortDescription: 'Майстерність бойової магії: перевага на концентрацію та можливість творити чари з зайнятими руками.',
    description: `Ви тренувалися накладати заклинання в розпалі битви, вивчивши наступні техніки:

- Ви маєте перевагу на ряткидки Витривалості, які ви робите для підтримки концентрації на заклинанні, коли отримуєте шкоду.
- Ви можете виконувати соматичні компоненти заклинань, навіть якщо тримаєте зброю або щит у руках.
- Коли переміщення ворожої істоти провокує принагідну атаку від вас, ви можете використати свою реакцію, щоб натомість накласти на істоту заклинання, а не здійснювати принагідну атаку. Заклинання повинно мати час накладання 1 дія та бути націленим лише на цю істоту.`,
    prerequisiteSpellcasting: true,
  },
  {
    name: Feats.WEAPON_MASTER,
    engName: 'Weapon Master',
    source: Source.PHB,
    shortDescription: 'Отримайте володіння чотирма видами зброї та збільште Силу або Спритність.',
    description: `Ви пройшли інтенсивне тренування зі зброєю, отримавши наступні переваги:

- Збільште ваш показник Сили або Спритності на 1, до максимуму 20.
- Ви отримуєте володіння чотирма видами зброї на ваш вибір. Кожна повинна бути простою або бойовою зброєю.`,
    grantedASI: { STR_OR_DEX: 1 },
  },

  // Batch 2: Racial Feats (Xanathar's Guide to Everything)
  {
    name: Feats.BOUNTIFUL_LUCK,
    engName: 'Bountiful Luck',
    source: Source.XGTE,
    shortDescription: 'Дозвольте союзникам перекидати натуральну 1, використовуючи вашу реакцію.',
    description: `Ваш народ має надзвичайну удачу, якою ви навчилися ділитися з оточуючими.

Коли союзник, якого ви бачите в межах 30 фт від вас, викидає 1 на к20 для кидка атаки [attack roll], перевірки характеристики [ability check] або ряткидка, ви можете використати свою реакцію, щоб дозволити цій істоті перекинути кубик. Вона повинна використати новий результат.

Коли ви використовуєте цю здатність, ви не можете використовувати свою расову особливість Удача до кінця вашого наступного ходу.`,
    raceRestriction: [Races.HALFLING_2014],
  },
  {
    name: Feats.DRAGON_FEAR,
    engName: 'Dragon Fear',
    source: Source.XGTE,
    shortDescription: 'Використовуйте свій подих, щоб налякати ворогів навколо себе.',
    description: `Коли ви розлючені, ви можете випромінювати застрашливу загрозу. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили, Витривалості або Харизми на 1, до максимуму 20.
- Замість того, щоб видихати руйнівну енергію своєю особливістю Збройний подих, ви можете видати драконячий рев. Кожна істота за вашим вибором у межах 30 фт від вас, що може почути або побачити вас, повинна досягти успіху в ряткидку Мудрості (СК = 8 + ваш бонус майстерності + модифікатор вашої Харизми) або стати наляканою вами на 1 хвилину. Якщо істота отримує шкоду, вона може повторити ряткидок, закінчуючи ефект на собі при успіху.`,
    raceRestriction: [Races.DRAGONBORN_2014],
    grantedASI: { STR_OR_CON_OR_CHA: 1 },
  },
  {
    name: Feats.DRAGON_HIDE,
    engName: 'Dragon Hide',
    source: Source.XGTE,
    shortDescription: 'Отримайте міцну луску (КБ 13 + Спритність) та гострі пазурі.',
    description: `Ви проявили фізичні ознаки своїх драконячих предків. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили, Витривалості або Харизми на 1, до максимуму 20.
- Ваші луски зміцнюються. Поки ви не носите обладунки, ваш КБ дорівнює 13 + вашому модифікатору Спритності. Ви можете використовувати щит і все одно отримувати цю перевагу.
- Ви відрощуєте гострі пазурі. Ваші беззбройні удари наносять 1к4 рублячої шкоди замість звичайної дробячої шкоди.`,
    raceRestriction: [Races.DRAGONBORN_2014],
    grantedASI: { STR_OR_CON_OR_CHA: 1 },
  },
  {
    name: Feats.DROW_HIGH_MAGIC,
    engName: 'Drow High Magic',
    source: Source.XGTE,
    shortDescription: 'Вивчіть Виявлення магії, Левітацію та Розвіювання магії як додаткові заклинання.',
    description: `Ви вивчили більше магії свого народу. Ви отримуєте наступні переваги:

- Ви вивчаєте заклинання <a href="/spell/detect-magic">Виявлення магії [Detect Magic]</a> і можете накладати його за бажанням, не витрачаючи осередку заклинання.
- Ви вивчаєте заклинання <a href="/spell/levitate">Левітація</a> та <a href="/spell/dispel-magic">Розвіювання магії [Dispel Magic]</a>. Ви можете накласти кожне з них один раз без витрати осередку заклинання. Ви відновлюєте можливість накладати ці заклинання таким чином, коли закінчуєте тривалий відпочинок. Харизма є вашою характеристикою для цих трьох заклинань.`,
    subraceRestriction: [Subraces.ELF_DARK_DROW_2014],
  },
  {
    name: Feats.DWARVEN_FORTITUDE,
    engName: 'Dwarven Fortitude',
    source: Source.XGTE,
    shortDescription: 'Відновлюйте ХП, використовуючи Кубик Здоров’я під час дії Ухиляння.',
    description: `Ви володієте витривалістю, перед якою мало хто може встояти. Ви отримуєте наступні переваги:

- Збільште ваш показник Витривалості на 1, до максимуму 20.
- Коли ви використовуєте дію Ухиляння у бою, ви можете витратити один Кубик Здоров'я, щоб полікувати себе. Киньте кубик, додайте модифікатор Витривалості та відновіть відповідну кількість хіт-поїнтів (мінімум 1).`,
    raceRestriction: [Races.DWARF_2014],
    grantedASI: { CON: 1 },
  },
  {
    name: Feats.ELVEN_ACCURACY,
    engName: 'Elven Accuracy',
    source: Source.XGTE,
    shortDescription: 'Перекиньте один з кубиків при перевазі на атаки Спритністю/Інтелектом/Мудрістю/Харизмою.',
    description: `Точність ельфів легендарна. Ви отримуєте наступні переваги:

- Збільште ваш показник Спритності, Інтелекту, Мудрості або Харизми на 1, до максимуму 20.
- Коли ви маєте перевагу на кидок атаки [attack roll], що використовує Спритність, Інтелект, Мудрість або Харизму, ви можете один раз перекинути один із кубиків.`,
    raceRestriction: [Races.ELF_2014, Races.HALF_ELF_2014],
    grantedASI: { DEX_OR_INT_OR_WIS_OR_CHA: 1 },
  },
  {
    name: Feats.FADE_AWAY,
    engName: 'Fade Away',
    source: Source.XGTE,
    shortDescription: 'Станьте невидимим як реакція після отримання шкоди.',
    description: `Ви навчилися магічному трюку свого роду — зникати, коли ви відчуваєте біль. Ви отримуєте наступні переваги:

- Збільште ваш показник Спритності або Інтелекту на 1, до максимуму 20.
- Негай після того, як ви отримаєте шкоду від істоти, ви можете використати свою реакцію, щоб стати невидимим до кінця вашого наступного ходу або поки ви не атакуєте, не завдасте шкоди або не змусите істоту зробити ряткидок. Ви не можете використовувати цю здатність знову, доки не закінчите короткий або тривалий відпочинок.`,
    raceRestriction: [Races.GNOME_2014],
    grantedASI: { DEX_OR_INT: 1 },
  },
  {
    name: Feats.FEY_TELEPORTATION,
    engName: 'Fey Teleportation',
    source: Source.XGTE,
    shortDescription: 'Вивчіть Туманний крок та мову Сильван. Збільште Інтелект чи Харизму.',
    description: `Ваш родовід пронизаний магією Дикокраю. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту або Харизми на 1, до максимуму 20.
- Ви вивчаєте мову Сильван.
- Ви вивчаєте заклинання <a href="/spell/misty-step">Туманний крок [Misty Step]</a> і можете накласти його один раз без витрати осередку заклинання. Ви відновлюєте цю можливість після короткого або тривалого відпочинку. Характеристикою для цього заклинання є обрана вами (Інтелект або Харизма).`,
    subraceRestriction: [Subraces.ELF_HIGH_2014],
    grantedASI: { INT_OR_CHA: 1 },
    grantedLanguages: [Language.SYLVAN],
  },
  {
    name: Feats.FLAMES_OF_PHLEGETHOS,
    engName: 'Flames of Phlegethos',
    source: Source.XGTE,
    shortDescription: 'Посильте вогняні заклинання та оточіть себе вогняним аурою при накладанні чарів.',
    description: `Ви навчилися черпати сили з пекольних областей Флегетосу. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту або Харизми на 1, до максимуму 20.
- Коли ви кидаєте шкоду від вогню для накладеного заклинання, ви можете перекинути будь-яку 1 на кубику шкоди, мусите використати новий результат.
- Коли ви накладаєте заклинання, що наносить шкоду вогнем, вогонь охоплює вас до кінця вашого наступного ходу. Полум’я не шкодить вам або вашому спорядженню. Воно випромінює яскраве світло в радіусі 10 фт та тьмяне світло ще на 10 фт. Крім того, будь-яка істота в межах 5 фт від вас, що влучає по вас рукопашною атакою, отримує 1к4 шкоди вогнем.`,
    raceRestriction: [Races.TIEFLING_2014],
    grantedASI: { INT_OR_CHA: 1 },
  },
  {
    name: Feats.INFERNAL_CONSTITUTION,
    engName: 'Infernal Constitution',
    source: Source.XGTE,
    shortDescription: 'Отримайте опір холоду та отруті, перевагу на ряткидки від отрути.',
    description: `Ваша пекольна кров зміцнилася. Ви отримуєте наступні переваги:

- Збільште ваш показник Витривалості на 1, до максимуму 20.
- Ви маєте опір до шкоди холодом та отрутою.
- Ви маєте перевагу на ряткидки проти отруєння.`,
    raceRestriction: [Races.TIEFLING_2014],
    grantedASI: { CON: 1 },
  },
  {
    name: Feats.ORCISH_FURY,
    engName: 'Orcish Fury',
    source: Source.XGTE,
    shortDescription: 'Завдайте додаткову шкоду зброєю та здійснюйте атаку після використання Непохитної витривалості.',
    description: `Ваша внутрішня лють стає нестримною. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили або Витривалості на 1, до максимуму 20.
- Коли ви влучаєте атакою зброєю, ви можете додати один додатковий кубик шкоди зброї до цього удару. Ви можете використати цю здатність один раз за короткий або тривалий відпочинок.
- Негайно після того, як ви використали свою расову особливість Непохитна витривалість [Relentless Endurance], ви можете використати свою реакцію, щоб здійснити одну атаку зброєю.`,
    raceRestriction: [Races.HALF_ORC_2014],
    grantedASI: { STR_OR_CON: 1 },
  },
  {
    name: Feats.PRODIGY,
    engName: 'Prodigy',
    source: Source.XGTE,
    shortDescription: 'Отримайте володіння навичкою, інструментом, мовою та майстерність в одній навичці.',
    description: `Ви маєте неабиякий талант до навчання. Ви отримуєте наступні переваги:

- Ви отримуєте володіння в одній навичці, одному інструменті та вивчаєте одну мову на ваш вибір.
- Оберіть одну навичку, якою ви володієте. Ви отримуєте майстерність у цій навичці, що подвоює ваш бонус майстерності для будь-якої перевірки цієї навички.`,
    raceRestriction: [Races.HUMAN_2014, Races.HALF_ELF_2014, Races.HALF_ORC_2014],
    grantedSkillCount: 1,
    grantedLanguageCount: 1,
  },
  {
    name: Feats.SECOND_CHANCE,
    engName: 'Second Chance',
    source: Source.XGTE,
    shortDescription: 'Змусьте атакуючого перекинути влучний удар раз на раунд.',
    description: `Удача супроводжує вас саме в ті моменти, коли вона потрібна найбільше. Ви отримуєте наступні переваги:

- Збільште ваш показник Спритності, Витривалості або Харизми на 1, до максимуму 20.
- Коли істота, яку ви бачите, влучає по вас кидком атаки [attack roll], ви можете використати свою реакцію, щоб змусити цю істоту перекинути кубик. Вона повинна використати новий результат. Ви не можете використовувати цю здатність знову, доки не закінчите короткий або тривалий відпочинок чи не ініціюєте ініціативу.`,
    raceRestriction: [Races.HALFLING_2014],
    grantedASI: { DEX_OR_CON_OR_CHA: 1 },
  },
  {
    name: Feats.SQUAT_NIMBLENESS,
    engName: 'Squat Nimbleness',
    source: Source.XGTE,
    shortDescription: 'Збільште швидкість та отримайте володіння Атлетикою або Акробатикою.',
    description: `Ви навчилися використовувати свій низький зріст як перевагу в спритності. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили або Спритності на 1, до максимуму 20.
- Ваша швидкість збільшується на 5 фт.
- Ви отримуєте володіння в навичці Атлетика або Акробатика.
- Ви маєте перевагу на перевірки Сили (Атлетика) або Спритності (Акробатика), зроблені для уникнення або припинення захоплення.`,
    raceRestriction: [Races.DWARF_2014, Races.HALFLING_2014, Races.GNOME_2014],
    grantedASI: { STR_OR_DEX: 1 },
    grantedSkillCount: 1,
  },
  {
    name: Feats.WOOD_ELF_MAGIC,
    engName: 'Wood Elf Magic',
    source: Source.XGTE,
    shortDescription: 'Вивчіть один кантріп друїда, Слідів не лишати та Розмову з тваринами.',
    description: `Ви опанували магію лісу. Ви отримуєте наступні переваги:

- Ви вивчаєте один кантріп на ваш вибір зі списку заклинань друїда. Мудрість є вашою характеристикою для нього.
- Ви вивчаєте заклинання <a href="/spell/pass-without-trace">Слідів не лишати [Pass Without Trace]</a> та <a href="/spell/speak-with-animals">Розмова з тваринами [Speak with Animals]</a>. Ви можете накласти кожне з них один раз без витрати осередку заклинання. Ви відновлюєте можливість накладати ці заклинання таким чином, коли закінчуєте тривалий відпочинок. Мудрість є вашою характеристикою для цих заклинань.`,
    subraceRestriction: [Subraces.ELF_WOOD_2014],
  },

  // Batch 3: Tasha's Cauldron of Everything
  {
    name: Feats.ARTIFICER_INITIATE,
    engName: 'Artificer Initiate',
    source: Source.TCOE,
    shortDescription: 'Вивчіть один кантріп та одне закляття 1 рівня винахідника.',
    description: `Ви вивчили деякі методи винахідників. Ви отримуєте наступні переваги:

- Ви вивчаєте один кантріп та одне закляття 1-го рівня зі списку заклинань винахідника.
- Ви можете накласти це закляття один раз без витрати осередку заклинання і відновлюєте цю можливість після тривалого відпочинку. Ви також можете накласти це закляття, використовуючи осередки заклинань відповідного рівня.
- Ви отримуєте володіння одним видом інструментів ремісника на ваш вибір і можете використовувати цей вид інструментів як магічне фокусування [spellcasting focus] для будь-якого заклинання, що використовує Інтелект як характеристику для заклинання.
- Вашою характеристикою для цих заклинань є Інтелект.`,
    grantedToolProficiencies: { ANY_ARTISAN_TOOL: 1 },
  },
  {
    name: Feats.CHEF,
    engName: 'Chef',
    source: Source.TCOE,
    shortDescription: 'Готуйте їжу, що дає додаткові ХП під час короткого відпочинку та тимчасові ХП.',
    description: `Час, проведений на кухні, навчив вас готувати їжу, що підкріплює ваших союзників. Ви отримуєте наступні переваги:

- Збільште ваш показник Витривалості або Мудрості на 1, до максимуму 20.
- Ви отримуєте володіння інструментами кухаря, якщо ви ним ще не володієте.
- Під час короткого відпочинку ви можете приготувати спеціальну їжу. Ви та до п'яти інших істот, які споживають цю їжу та витрачають один або більше Кубиків Здоров'я для відновлення ХП, відновлюють додатково 1к8 ХП кожна.
- Ви можете витратити 1 годину роботи або закінчити тривалий відпочинок, щоб приготувати кількість спеціальних ласощів, що дорівнює вашому бонусу майстерності. Ці ласощі зберігаються протягом 8 годин. Істота може використати бонусну дію, щоб з'їсти ласощі та отримати тимчасові хіт-поїнти, кількість яких дорівнює вашому бонусу майстерності.`,
    grantedASI: { CON_OR_WIS: 1 },
    grantedToolProficiencies: { COOKS_UTENSILS: 1 },
  },
  {
    name: Feats.CRUSHER,
    engName: 'Crusher',
    source: Source.TCOE,
    shortDescription: 'Ефективніше використання дроблячої зброї: відштовхуйте ворогів та надавайте перевагу при критичних ударах.',
    description: `Ви опанували мистецтво нанесення нищівних ударів. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили або Витривалості на 1, до максимуму 20.
- Один раз за хід, коли ви влучаєте по істоті атакою, що наносить дроблячу шкоду, ви можете перемістити її на 5 фт у незайнятий простір, за умови, що істота не більше ніж на один розмір перевищує ваш.
- Коли ви наносите критичний удар істоті, що завдає дроблячої шкоди, кидки атаки проти цієї істоти здійснюються з перевагою до кінця вашого наступного ходу.`,
    grantedASI: { STR_OR_CON: 1 },
  },
  {
    name: Feats.ELDRITCH_ADEPT,
    engName: 'Eldritch Adept',
    source: Source.TCOE,
    shortDescription: 'Вивчіть одну потойбічну інвокацію чорнокнижника.',
    description: `Ви вивчили заборонені знання, що дозволили вам опанувати одну потойбічну інвокацію на ваш вибір з класу чорнокнижника.
    
Якщо інвокація має будь-яку вимогу, ви можете обрати її лише якщо ви чорнокнижник, що відповідає цій вимозі.
    
Кожного разу, коли ви отримуєте рівень, ви можете замінити цю інвокацію на іншу.`,
    prerequisiteSpellcasting: true, // or Pact Magic
  },
  {
    name: Feats.FEY_TOUCHED,
    engName: 'Fey Touched',
    source: Source.TCOE,
    shortDescription: 'Вивчіть Туманний крок та одне закляття 1 рівня (чарування/пророцтво). Збільште ментальну характеристику.',
    description: `Ваш контакт із Дикокраєм наділив вас магією. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту, Мудрості або Харизми на 1, до максимуму 20.
- Ви вивчаєте заклинання <a href="/spell/misty-step">Туманний крок [Misty Step]</a> та одне заклинання 1-го рівня на ваш вибір. Заклинання 1-го рівня повинно бути зі шкіл Чарів або Пророцтва. Ви можете накласти кожне з них один раз без витрати осередку заклинання і відновлюєте цю можливість після тривалого відпочинку. Ви також можете накласти ці заклинання, використовуючи осередки відповідного рівня. Характеристикою для цих заклинань є та, яку ви збільшили цим рисом.`,
    grantedASI: { INT_OR_WIS_OR_CHA: 1 },
  },
  {
    name: Feats.FIGHTING_INITIATE,
    engName: 'Fighting Initiate',
    source: Source.TCOE,
    shortDescription: 'Вивчіть один бойовий стиль з класу воїна.',
    description: `Ваше тренування дозволило вам опанувати один бойовий стиль на ваш вибір з класу воїна. Ви не можете обрати стиль, який ви вже маєте.
    
Кожного разу, коли ви отримуєте рівень, що надає вам доступ до рису, ви можете замінити цей бойовий стиль на інший бойовий стиль воїна.`,
    prerequisiteProficiency: { armor: ['LIGHT', 'MEDIUM', 'HEAVY'], weapons: ['martial'] }, // simplified: "proficiency with a martial weapon"
  },
  {
    name: Feats.GUNNER,
    engName: 'Gunner',
    source: Source.TCOE,
    shortDescription: 'Володіння вогнепальною зброєю: ігноруйте перезарядку та стріляйте впритул.',
    description: `Ви навчилися поводитися зі зброєю, що використовує вибухову силу. Ви отримуєте наступні переваги:

- Збільште ваш показник Спритності на 1, до максимуму 20.
- Ви отримуєте володіння вогнепальною зброєю.
- Ви ігноруєте властивість перезарядки для вогнепальної зброї.
- Перебування в межах 5 фт від ворожої істоти не накладає перешкоду на ваші кидки дальніх атак.`,
    grantedASI: { DEX: 1 },
    grantedWeaponProficiencies: { type: ['FIREARMS'] },
  },
  {
    name: Feats.METAMAGIC_ADEPT,
    engName: 'Metamagic Adept',
    source: Source.TCOE,
    shortDescription: 'Вивчіть 2 варіанти метамагії та отримайте 2 очки чародійства.',
    description: `Ви дізналися, як змінювати свої заклинання відповідно до ваших потреб. Ви отримуєте наступні переваги:

- Ви вивчаєте два варіанти метамагії на ваш вибір з класу чародія. Ви можете використовувати лише один варіант метамагії для одного заклинання, якщо не зазначено інше. Кожного разу, коли ви отримуєте рівень, ви можете замінити одну свою метамагію на іншу.
- Ви отримуєте 2 очки чародійства для використання цих метамагій. Ви відновлюєте всі витрачені очки чародійства, коли закінчуєте тривалий відпочинок.`,
    prerequisiteSpellcasting: true,
  },
  {
    name: Feats.PIERCER,
    engName: 'Piercer',
    source: Source.TCOE,
    shortDescription: 'Ефективніше використання колючої зброї: перекидайте шкоду та завдавайте більше при критах.',
    description: `Ви вивчили, як наносити точні колючі удари. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили або Спритності на 1, до максимуму 20.
- Один раз за хід, коли ви влучаєте по істоті атакою, що наносить колючу шкоду, ви можете перекинути один із кубиків шкоди атаки та використати новий результат.
- Коли ви наносите критичний удар істоті, що завдає колючу шкоду, ви можете кинути один додатковий кубик шкоди для визначення колючої шкоди, нанесеної цілі.`,
    grantedASI: { STR_OR_DEX: 1 },
  },
  {
    name: Feats.POISONER,
    engName: 'Poisoner',
    source: Source.TCOE,
    shortDescription: 'Ігноруйте опір отруті, створюйте та наносьте отрути на зброю бонусною дією.',
    description: `Ви майстер у використанні та виготовленні отрут. Ви отримуєте наступні переваги:

- Коли ви робите кидок шкоди для накладеної вами отрути або зброї, змащеної отрутою, ви ігноруєте опір до шкоди отрутою.
- Ви можете нанести отруту на зброю або боєприпаси бонусною дією замість дії.
- Ви отримуєте володіння набором отруйника, якщо ви ним ще не володієте. Протягом тривалого відпочинку ви можете створити кількість доз отрути, що дорівнює вашому бонусу майстерності, використовуючи набір отруйника (вартість інгредієнтів — 50 золотих за дозу). Від цієї отрути істота повинна зробити ряткидок Витривалості (СК 14) або отримати 2к8 шкоди отрутою та стати отруєною до кінця вашого наступного ходу.`,
    grantedToolProficiencies: { POISONERS_KIT: 1 },
  },
  {
    name: Feats.SHADOW_TOUCHED,
    engName: 'Shadow Touched',
    source: Source.TCOE,
    shortDescription: 'Вивчіть Невидимість та одне закляття 1 рівня (ілюзія/некромантія). Збільште ментальну характеристику.',
    description: `Ваш контакт із Тіньокраєм змінив вас. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту, Мудрості або Харизми на 1, до максимуму 20.
- Ви вивчаєте заклинання <a href="/spell/invisibility">Невидимість</a> та одне заклинання 1-го рівня на ваш вибір. Заклинання 1-го рівня повинно бути зі шкіл Ілюзії або Некромантії. Ви можете накласти кожне з них один раз без витрати осередку заклинання і відновлюєте цю можливість після тривалого відпочинку. Ви також можете накласти ці заклинання, використовуючи осередки відповідного рівня. Характеристикою для цих заклинань є та, яку ви збільшили цим рисом.`,
    grantedASI: { INT_OR_WIS_OR_CHA: 1 },
  },
  {
    name: Feats.SKILL_EXPERT,
    engName: 'Skill Expert',
    source: Source.TCOE,
    shortDescription: 'Збільште характеристику, отримайте володіння навичкою та майстерність в одній навичці.',
    description: `Ви відшліфували свої навички. Ви отримуєте наступні переваги:

- Збільште один показник характеристики на ваш вибір на 1, до максимуму 20.
- Ви отримуєте володіння в одній навичці на ваш вибір.
- Оберіть одну навичку, якою ви володієте. Ви отримуєте майстерність у цій навичці, що подвоює ваш бонус майстерності для будь-якої перевірки цієї навички.`,
    grantedASI: { ANY: 1 },
    grantedSkillCount: 1,
  },
  {
    name: Feats.SLASHER,
    engName: 'Slasher',
    source: Source.TCOE,
    shortDescription: 'Ефективніше використання рублячої зброї: сповільнюйте ворогів та накладайте перешкоду при критах.',
    description: `Ви навчилися наносити точні рублячі рани. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили або Спритності на 1, до максимуму 20.
- Один раз за хід, коли ви влучаєте по істоті атакою, що наносить рублячу шкоду, ви можете зменшити швидкість цілі на 10 фт до початку вашого наступного ходу.
- Коли ви наносите критичний удар істоті, що завдає рублячої шкоди, ви накладаєте на неї важкі рани. До початку вашого наступного ходу істота здійснює всі кидки атаки з перешкодою.`,
    grantedASI: { STR_OR_DEX: 1 },
  },
  {
    name: Feats.TELEKINETIC,
    engName: 'Telekinetic',
    source: Source.TCOE,
    shortDescription: 'Вивчіть Магічну руку (невидиму) та штовхайте істот силою думки.',
    description: `Ви розвинули здатність переміщувати предмети своїм розумом. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту, Мудрості або Харизми на 1, до максимуму 20.
- Ви вивчаєте кантріп <a href="/spell/mage-hand">Магічна рука [Mage Hand]</a>. Ви можете накладати його без вербальних або соматичних компонентів, і рука невидима. Якщо ви вже знаєте цей кантріп, його дистанція збільшується на 30 фт. Характеристикою для нього є та, яку ви збільшили цим рисом.
- Бонусною дією ви можете спробувати телекінетично штовхнути одну істоту, яку ви бачите в межах 30 фт від вас. Ціль повинна досягти успіху в ряткидку Сили (СК = 8 + ваш бонус майстерності + модифікатор обраної характеристики) або бути переміщеною на 5 фт до вас або від вас. Істота може добровільно провалити цей ряткидок.`,
    grantedASI: { INT_OR_WIS_OR_CHA: 1 },
  },
  {
    name: Feats.TELEPATHIC,
    engName: 'Telepathic',
    source: Source.TCOE,
    shortDescription: 'Спілкуйтеся телепатично та вивчіть Виявлення думок. Збільште ментальну характеристику.',
    description: `Ви пробудили здатність подумки спілкуватися з іншими. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту, Мудрості або Харизми на 1, до максимуму 20.
- Ви можете подумки спілкуватися з будь-якою істотою, яку ви бачите в межах 60 фт від вас. Ваші слова звучать у її свідомості тією мовою, якою ви зараз розмовляєте, і істота розуміє вас лише якщо знає цю мову. Цей зв'язок не дозволяє істоті відповідати вам телепатично.
- Ви вивчаєте заклинання <a href="/spell/detect-thoughts">Виявлення думок [Detect Thoughts]</a> і можете накласти його один раз без витрати осередку заклинання (не потребуючи компонентів) і відновлюєте цю можливість після тривалого відпочинку. Ви також можете накласти його, використовуючи осередки відповідного рівня. Характеристикою для нього є та, яку ви збільшили цим рисом.`,
    grantedASI: { INT_OR_WIS_OR_CHA: 1 },
  },

  // Batch 4: Other sources (Eberron, Fizban's, Bigby's)
  {
    name: Feats.ABERRANT_DRAGONMARK,
    engName: 'Aberrant Dragonmark',
    source: Source.EBERRON,
    shortDescription: 'Отримайте абераційну драконячу мітку: кантріп, закляття 1 рівня та потенційне посилення коштом ХП.',
    description: `Ви проявили абераційну драконячу мітку. Ви отримуєте наступні переваги:

- Збільште ваш показник Витривалості на 1, до максимуму 20.
- Ви вивчаєте один кантріп зі списку заклинань чарівника.
- Ви вивчаєте одне заклинання 1-го рівня зі списку чарівника. Ви можете накласти його один раз на його найнижчому рівні, і відновлюєте цю можливість після короткого або тривалого відпочинку. Витривалість є вашою характеристикою для цих заклинань.
- Коли ви накладаєте заклинання 1-го рівня через свою мітку, ви можете витратити один Кубик Здоров'я, щоб спробувати підсилити його. Киньте кубик. Якщо число парне, ви отримуєте тимчасові ХП, що дорівнюють результату. Якщо непарне — істота в межах 30 фт від вас отримує таку ж кількість шкоди силовим полем.`,
    grantedASI: { CON: 1 },
  },
  {
    name: Feats.GIFT_OF_THE_CHROMATIC_DRAGON,
    engName: 'Gift of the Chromatic Dragon',
    source: Source.FTOD,
    shortDescription: 'Надайте зброї стихійну шкоду та використовуйте реакцію для опору шкоді.',
    description: `Ви отримали дещицю магічної сутності кольорових драконів. Ви отримуєте наступні переваги:

- Бонусною дією ви можете торкнутися зброї та наповнити її стихійною енергією (кислота, холод, вогонь, блискавка або грім). Протягом 1 хвилини зброя наносить додатково 1к4 шкоди обраного типу. Ви можете використовувати цю здатність один раз за тривалий відпочинок.
- Коли ви отримуєте шкоду від кислоти, холоду, вогню, блискавки або грому, ви можете використати свою реакцію, щоб отримати опір до цієї шкоди для поточного удару. Ви можете використовувати цю реакцію кількість разів, що дорівнює вашому бонусу майстерності, і відновлюєте використання після тривалого відпочинку.`,
  },
  {
    name: Feats.GIFT_OF_THE_GEM_DRAGON,
    engName: 'Gift of the Gem Dragon',
    source: Source.FTOD,
    shortDescription: 'Збільште ментальну характеристику та використовуйте телекінетичне відштовхування як реакцію.',
    description: `Ви навчилися черпати силу з псіонічної енергії дорогоцінних драконів. Ви отримуєте наступні переваги:

- Збільште ваш показник Інтелекту, Мудрості або Харизми на 1, до максимуму 20.
- Коли істота, яку ви бачите в межах 10 фт від вас, завдає вам шкоди, ви можете використати свою реакцію, щоб випустити псіонічний імпульс. Істота повинна досягти успіху в ряткидку Сили (СК = 8 + ваш бонус майстерності + модифікатор обраної характеристики) або отримати 2к8 шкоди силовим полем та бути відштовхнутою на 10 фт. При успіху істота отримує половину шкоди та не відштовхується. Ви можете використовувати цю реакцію кількість разів, що дорівнює вашому бонусу майстерності, і відновлюєте використання після тривалого відпочинку.`,
    grantedASI: { INT_OR_WIS_OR_CHA: 1 },
  },
  {
    name: Feats.GIFT_OF_THE_METALLIC_DRAGON,
    engName: 'Gift of the Metallic Dragon',
    source: Source.FTOD,
    shortDescription: 'Вивчіть Лікування ран та використовуйте спектральні крила для захисту союзників.',
    description: `Ви отримали дещицю магічної сутності металевих драконів. Ви отримуєте наступні переваги:

- Ви вивчаєте заклинання <a href="/spell/cure-wounds">Лікування ран [Cure Wounds]</a> і можете накласти його один раз без витрати осередку заклинання, відновлюючи можливість після тривалого відпочинку. Ви також можете накласти його, використовуючи свої осередки заклинань. Характеристикою для нього є Інтелект, Мудрість або Харизма (оберіть при отриманні рису).
- Ви можете магічно викликати спектральні крила для захисту. Коли ви або інша істота в межах 5 фт від вас отримуєте влучний удар атакою, ви можете використати свою реакцію, щоб додати свій бонус майстерності до КБ цілі проти цієї атаки. Ви можете використовувати цю реакцію кількість разів, що дорівнює вашому бонусу майстерності, і відновлюєте використання після тривалого відпочинку.`,
  },
  {
    name: Feats.STRIKE_OF_THE_GIANTS,
    engName: 'Strike of the Giants',
    source: Source.BPGOTG,
    shortDescription: 'Виберіть тип велетня та додавайте особливі ефекти до своїх атак зброєю.',
    description: `Ви вивчили бойові техніки велетнів. Оберіть один із варіантів (Хмарний, Вогняний, Морозний, Гірський, Кам'яний або Штормовий).
    
Один раз на хід, коли ви влучаєте по істоті рукопашною або метальною атакою зброєю, ви можете активувати один додатковий ефект на основі обраного типу (наприклад, додаткову шкоду певного типу або накладення стану), кількість використань дорівнює вашому бонусу майстерності. Ви відновлюєте використання після тривалого відпочинку.`,
    prerequisiteProficiency: { weapons: ['martial'] }, // simplified
  },
  {
    name: Feats.EMBER_OF_GIANTS,
    engName: 'Ember of the Fire Giant',
    source: Source.BPGOTG,
    shortDescription: 'Отримайте опір вогню та випускайте вибух полум’я навколо себе.',
    description: `Ви опанували вогняну магію велетнів. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили, Витривалості або Харизми на 1, до максимуму 20.
- Ви маєте опір до шкоди вогнем.
- Замість однієї з ваших атак дією Атака, ви можете випустити вибух полум'я. Кожна істота за вашим вибором у межах 15 фт від вас повинна зробити ряткидок Спритності (СК = 8 + ваш бонус майстерності + модифікатор обраної характеристики) або отримати шкоду вогнем та стати засліпленою до кінця вашого наступного ходу. Кількість використань дорівнює вашому бонусу майстерності.`,
    prerequisiteFeat: 'Strike of the Giants',
    grantedASI: { STR_OR_CON_OR_CHA: 1 },
  },
  {
    name: Feats.FURY_OF_GIANTS,
    engName: 'Fury of the Frost Giant',
    source: Source.BPGOTG,
    shortDescription: 'Отримайте опір холоду та використовуйте морозну відповідь як реакцію на отриману шкоду.',
    description: `Ви опанували морозну магію велетнів. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили, Витривалості або Харизми на 1, до максимуму 20.
- Ви маєте опір до шкоди холодом.
- Коли істота в межах 10 фт від вас завдає вам шкоди, ви можете використати свою реакцію, щоб змусити її зробити ряткидок Витривалості або отримати шкоду холодом та зменшити швидкість до 0 до кінця її наступного ходу. Кількість використань дорівнює вашому бонусу майстерності.`,
    prerequisiteFeat: 'Strike of the Giants',
    grantedASI: { STR_OR_CON_OR_CHA: 1 },
  },
  {
    name: Feats.GUILE_OF_GIANTS,
    engName: 'Guile of the Cloud Giant',
    source: Source.BPGOTG,
    shortDescription: 'Збільште характеристику та використовуйте магічне переміщення як реакцію на атаку.',
    description: `Ви опанували невловиму магію хмарних велетнів. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили, Витривалості або Харизми на 1, до максимуму 20.
- Коли істота, яку ви бачите, влучає по вас кидком атаки, ви можете використати свою реакцію, щоб отримати опір до цієї шкоди та телепортуватися на 30 фт. Кількість використань дорівнює вашому бонусу майстерності.`,
    prerequisiteFeat: 'Strike of the Giants',
    grantedASI: { STR_OR_CON_OR_CHA: 1 },
  },
  {
    name: Feats.KEENNESS_OF_GIANTS,
    engName: 'Keenness of the Stone Giant',
    source: Source.BPGOTG,
    shortDescription: 'Збільште характеристику, отримайте нічний зір та можливість влучно кидати каміння.',
    description: `Ви опанували магію каменю. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили, Витривалості або Харизми на 1, до максимуму 20.
- Ви отримуєте нічний зір на 60 фт. Якщо ви вже його маєте, дистанція збільшується на 60 фт.
- Ви можете бонусним дією наділити зброю магією, що дозволяє кинути її на 60 фт та нанести додаткову шкоду, збиваючи ціль ничком. Кількість використань дорівнює вашому бонусу майстерності.`,
    prerequisiteFeat: 'Strike of the Giants',
    grantedASI: { STR_OR_CON_OR_CHA: 1 },
  },
  {
    name: Feats.SOUL_OF_GIANTS,
    engName: 'Soul of the Storm Giant',
    source: Source.BPGOTG,
    shortDescription: 'Отримайте опір до блискавки/грому та створюйте захисну бурю навколо себе.',
    description: `Ви опанували штормову магію велетнів. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили, Витривалості або Харизми на 1, до максимуму 20.
- Ви маєте опір до шкоди блискавкою або громом.
- Бонусною дією ви можете оточити себе бурею на 1 хвилину. Істоти в межах 10 фт від вас мають перешкоду на кидки атак проти вас, а ви можете реакцією наносити шкоду громом тим, хто наближається. Кількість використань дорівнює вашому бонусу майстерності.`,
    prerequisiteFeat: 'Strike of the Giants',
    grantedASI: { STR_OR_CON_OR_CHA: 1 },
  },
  {
    name: Feats.VIGOR_OF_GIANTS,
    engName: 'Vigor of the Hill Giant',
    source: Source.BPGOTG,
    shortDescription: 'Збільште характеристику та використовуйте стійкість, щоб не бути переміщеним або збитим з ніг.',
    description: `Ви опанували стійкість гірських велетнів. Ви отримуєте наступні переваги:

- Збільште ваш показник Сили, Витривалості або Харизми на 1, до максимуму 20.
- Коли ви отримуєте ефект, який би перемістив вас або збив ничком, ви можете використати свою реакцію, щоб ігнорувати цей ефект.
- Ви можете використовувати свою Витривалість, щоб відновлювати додаткові ХП під час короткого відпочинку.`,
    prerequisiteFeat: 'Strike of the Giants',
    grantedASI: { STR_OR_CON_OR_CHA: 1 },
  },
  {
    name: Feats.SQUIRE_OF_SOLAMNIA,
    engName: 'Squire of Solamnia',
    source: Source.PHB,
    shortDescription: 'Ви стаєте зброєносцем лицарів Соламнії, отримуючи переваги в бою.',
    description: `Ви пройшли навчання як зброєносець, що дає вам наступні переваги:
- Ви отримуєте володіння середніми обладунками та щитами.
- Ви отримуєте володіння однією бойовою зброєю на ваш вибір.
- У ваш хід, коли ви здійснюєте кидок атаки зброєю, ви можете надати собі перевагу на цей кидок. Якщо атака влучає, ви наносите додаткову шкоду 1к8. Ви можете використовувати цю перевагу кількість разів, що дорівнює вашому бонусу майстерності, і відновлюєте всі використання після довгого відпочинку.`,
    grantedArmorProficiencies: [ArmorType.MEDIUM, ArmorType.SHIELD],
  },
  {
    name: Feats.INITIATE_OF_HIGH_SORCERY,
    engName: 'Initiate of High Sorcery',
    source: Source.PHB,
    shortDescription: 'Ви обираєте школу магії та отримуєте доступ до її заклинань.',
    description: `Ваше навчання в школі Вищого чаклунства дало вам наступні переваги:
- Ви вивчаєте одне замовляння на ваш вибір зі списку чарівника.
- Оберіть один з трьох місяців Соламнії: Солінарі, Лунітарі або Нуїтарі. Ви вивчаєте два заклинання 1-го рівня з відповідних шкіл магії. Ви можете накласти кожне з цих заклинань один раз без використання слота заклинань і відновлюєте цю можливість після довгого відпочинку.`,
  },
  {
    name: Feats.RUNE_SHAPER,
    engName: 'Rune Shaper',
    source: Source.PHB,
    shortDescription: 'Ви вивчаєте мистецтво вирізьблення рун для посилення своїх можливостей.',
    description: `Ви навчилися вирізьблювати руни, що дає вам наступні переваги:
- Ви вивчаєте заклинання "розуміння мов" [comprehend languages]. Ви можете накладати його як ритуал.
- Коли ви закінчуєте довгий відпочинок, ви можете вирізьбити певну кількість рун на предметах. Кожна руна дає вам доступ до певного заклинання. Ви можете накласти заклинання кожної руни один раз без використання слота заклинань. Кількість рун, які ви можете вирізьбити, дорівнює вашому бонусу майстерності.`,
  },
  {
    name: Feats.STRIXHAVEN_INITIATE_SILVERQUILL,
    engName: 'Strixhaven Initiate (Silverquill)',
    source: Source.PHB,
    shortDescription: 'Ви вивчаєте магію факультету Сільверквіл.',
    description: `Ви отримали магічну підготовку Сільверквілу:
- Ви вивчаєте два замовляння на ваш вибір зі списку чарівника або барда.
- Ви вивчаєте одне заклинання 1-го рівня зі шкіл пророкування або причарування. Ви можете накласти его один раз без використання слота заклинань і відновлюєте цю можливість після довгого відпочинку.`,
  },
  {
    name: Feats.STRIXHAVEN_INITIATE_WITHERBLOOM,
    engName: 'Strixhaven Initiate (Witherbloom)',
    source: Source.PHB,
    shortDescription: 'Ви вивчаєте магію факультету Візерблум.',
    description: `Ви отримали магічну підготовку Візерблуму:
- Ви вивчаєте два замовляння на ваш вибір зі списку друїда або чарівника.
- Ви вивчаєте одне заклинання 1-го рівня зі шкіл некромантії або трансмутації. Ви можете накласти його один раз без використання слота заклинань і відновлюєте цю можливість після довгого відпочинку.`,
  },
  {
    name: Feats.STRIXHAVEN_INITIATE_QUANDRIX,
    engName: 'Strixhaven Initiate (Quandrix)',
    source: Source.PHB,
    shortDescription: 'Ви вивчаєте магію факультету Квандрікс.',
    description: `Ви отримали магічну підготовку Квандріксу:
- Ви вивчаєте два замовляння на ваш вибір зі списку чарівника або друїда.
- Ви вивчаєте одне заклинання 1-го рівня зі шкіл пророкування або трансмутації. Ви можете накласти його один раз без використання слота заклинань і відновлюєте цю можливість після довгого відпочинку.`,
  },
  {
    name: Feats.STRIXHAVEN_INITIATE_PRISMARI,
    engName: 'Strixhaven Initiate (Prismari)',
    source: Source.PHB,
    shortDescription: 'Ви вивчаєте магію факультету Призмарі.',
    description: `Ви отримали магічну підготовку Призмарі:
- Ви вивчаєте два замовляння на ваш вибір зі списку чарівника або барда.
- Ви вивчаєте одне заклинання 1-го рівня зі шкіл втілення або ілюзії. Ви можете накласти його один раз без використання слота заклинань і відновлюєте цю можливість після довгого відпочинку.`,
  },
  {
    name: Feats.STRIXHAVEN_INITIATE_LOREHOLD,
    engName: 'Strixhaven Initiate (Lorehold)',
    source: Source.PHB,
    shortDescription: 'Ви вивчаєте магію факультету Лорхолд.',
    description: `Ви отримали магічну підготовку Лорхолду:
- Ви вивчаєте два замовляння на ваш вибір зі списку чарівника або клірика.
- Ви вивчаєте одне заклинання 1-го рівня зі шкіл пророкування або некромантії. Ви можете накласти його один раз без використання слота заклинань і відновлюєте цю можливість після довгого відпочинку.`,
  },
  {
    name: Feats.SCION_OF_THE_OUTER_PLANES,
    engName: 'Scion of the Outer Planes',
    source: Source.PHB,
    shortDescription: 'Ви маєте зв’язок з одним із Зовнішніх Планів.',
    description: `Ваша істота наповнена енергією одного із Зовнішніх Планів. Оберіть один тип планарного впливу:
- Ви отримуєте опір певній шкоді та вивчаєте одне замовляння. Конкретні переваги залежать від обраного плану (наприклад, Хаос, Порядок, Добро, Зло).`,
  },
];

export async function seedFeats(prisma: PrismaClient) {
  console.log('🎭 Seeding Feats...');
  
  for (const featData of feats) {
    const { grantsFeature, ...rest } = featData;
    
    await prisma.feat.upsert({
      where: { name: rest.name },
      update: {
        ...rest as any,
        grantsFeature: grantsFeature ? {
            deleteMany: {},
            connect: grantsFeature.connect
        } : undefined
      },
      create: {
        ...rest as any,
        grantsFeature: grantsFeature ? {
          create: grantsFeature.create
        } : undefined
      },
    });
    await new Promise(resolve => setTimeout(resolve, 100));
  }
  
  console.log(`✅ Seeded ${feats.length} feats`);
}
