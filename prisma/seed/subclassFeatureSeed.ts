import { FeatureDisplayType, Prisma, PrismaClient, RestType, Subclasses } from "@prisma/client"

type SubclassFeatureLink = {
  subclass: Subclasses
  feature: string
  level: number
}

export const seedSubclassFeatures = async (prisma: PrismaClient) => {
  console.log("Створюємо фічі підкласів та прив’язки...")

  const features: Prisma.FeatureCreateInput[] = [
    // ===== Arcane Archer =====
    {
      name: "Арканний лучник: знання",
      engName: "Arcane Archer Lore",
      shortDescription:
        "Володієте Майстерністю в Аркані чи Природі та вивчаєте замовляння <a href=\"/spell/1050\">Штукарство [Prestidigitation]</a> або <a href=\"/spell/1341\">Ремесло друїдів [Druidcraft]</a>.",
      description:
        "На 3 рівні ви здобуваєте додаткові знання: отримуєте Володіння однією з навичок на ваш вибір — Аркана або Природа. Крім того, вивчаєте замовляння <a href=\"/spell/1050\">Штукарство [Prestidigitation]</a> або <a href=\"/spell/1341\">Ремесло друїдів [Druidcraft]</a> за вашим вибором.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Арканний постріл",
      engName: "Arcane Shot",
      shortDescription:
        "2 використання арканних пострілів за короткий/тривалий відпочинок; з 18 рівня їхні ефекти посилюються.",
      description:
        "На 3 рівні ви опановуєте два варіанти Арканних пострілів на свій вибір. Раз за хід, коли ви вистрілюєте зі шортбоуа чи лонгбоуа в межах Дії Атака, можете накласти один з обраних варіантів на стрілу. Рішення приймаєте, коли стріла влучає (якщо опція не вимагає кидка атаки).\n\nВи маєте 2 використання Арканного пострілу та відновлюєте всі витрати після короткого або тривалого відпочинку. На 7, 10 і 15 рівнях ви вивчаєте додатковий варіант. При кожному отриманні нового варіанту можете замінити один відомий на інший.\n\nКС ряткидків для ваших Арканних пострілів = 8 + ваш Бонус Майстерності + ваш модифікатор Інтелекту.\n\nНа 18 рівні кожен ваш Арканний постріл отримує посилення, зазначене в описі відповідної опції.",
      displayType: [FeatureDisplayType.CLASS_RESOURCE],
      limitedUsesPer: RestType.SHORT_REST,
      usesCount: 2,
    },
    {
      name: "Магічна стріла",
      engName: "Magic Arrow",
      shortDescription: "Ваші немагічні стріли з лука вважаються магічними для обходу спротиву/імунітету.",
      description:
        "На 7 рівні, коли ви стріляєте з шортбоуа чи лонгбоуа немагічною стрілою, ви можете зробити її магічною для цілей обходу спротиву та імунітету до немагічних атак і шкоди. Магія зникає одразу після влучання або промаху.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Криволінійний постріл",
      engName: "Curving Shot",
      shortDescription: "Реакцією перенаправляєте хибну стрілу в іншу ціль у межах 60 футів.",
      description:
        "На 7 рівні, якщо ви промахнулися з дальньої атаки зі шортбоуа чи лонгбоуа, можете реакцією зробити кидок атаки тим самим нападом проти іншої цілі в межах 60 футів від вас.",
      displayType: [FeatureDisplayType.REACTION],
    },
    {
      name: "Завжди напоготові",
      engName: "Ever-Ready Shot",
      shortDescription: "Якщо не маєте використань Арканного пострілу, відновлюєте одне при кидку ініціативи.",
      description:
        "На 15 рівні, коли ви кидаєте ініціативу і не маєте жодного використання Арканного пострілу, відновлюєте одне використання.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // Arcane Shot options
    {
      name: "Вигнання стрілою",
      engName: "Banishing Arrow",
      shortDescription:
        "ряткидок Харизми або ціль тимчасово вигнана; з 18 рівня також 2к6 силової шкоди.",
      description:
        "Використовуючи магію відштовхування, ви намагаєтеся вигнати ціль у безпечне місце у Фейвайлді. Уражена стрілою істота робить ряткидок Харизми або вигнана: її швидкість стає 0, вона Непрацездатна. Наприкінці свого наступного ходу ціль повертається в ту ж або найближчу вільну клітинку.\n\nЗ 18 рівня ціль також отримує 2к6 силової шкоди при влучанні.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Зваблива стріла",
      engName: "Beguiling Arrow",
      shortDescription:
        "+2к6 психічної шкоди та ряткидок Мудрості або Чари на союзника до початку вашого наступного ходу; з 18 рівня +4к6.",
      description:
        "Уражена стрілою істота додатково отримує 2к6 психічної шкоди, а ви обираєте союзника в межах 30 футів від цілі. Ціль робить ряткидок Мудрості; при провалі вона зачарована обраним союзником до початку вашого наступного ходу. Ефект закінчується раніше, якщо союзник завдає цілі шкоди чи змушує її робити ряткидок.\n\nЗ 18 рівня психічна шкода становить 4к6.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Розривна стріла",
      engName: "Bursting Arrow",
      shortDescription: "Ціль і всі істоти в радіусі 10 футів отримують 2к6 силової шкоди; з 18 рівня 4к6.",
      description:
        "Одразу після влучання стріла вибухає силовою енергією. Ціль та всі інші істоти в межах 10 футів отримують по 2к6 силової шкоди.\n\nЗ 18 рівня шкода становить 4к6.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Ослаблювальна стріла",
      engName: "Enfeebling Arrow",
      shortDescription:
        "+2к6 некротичної шкоди та ряткидок Статури або половина шкоди від зброї цілі до вашого наступного ходу; з 18 рівня 4к6.",
      description:
        "Ціль отримує додаткові 2к6 некротичної шкоди. Вона робить ряткидок Статури; при провалі шкода від її атак зброєю до початку вашого наступного ходу зменшується удвічі (округлення донизу).\n\nЗ 18 рівня некротична шкода становить 4к6.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Хапальна стріла",
      engName: "Grasping Arrow",
      shortDescription:
        "+2к6 отруйної шкоди, -10 футів швидкості, 2к6 рубальної шкоди за кожен рух; з 18 рівня обидві шкоди 4к6.",
      description:
        "Ціль отримує додаткові 2к6 отруйної шкоди, її швидкість зменшується на 10 футів, а вперше кожного свого ходу, коли вона рухається на 1 фут або більше без телепортації, отримує 2к6 рубальної шкоди. Ціль або істота в досяжності може Дією зробити перевірку Сили (Атлетика) проти вашого КС Арканного пострілу, щоб зняти колючі зарості. Інакше вони тривають 1 хвилину або доки ви не застосуєте цю опцію знову.\n\nЗ 18 рівня обидві шкоди становлять 4к6.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Пронизувальна стріла",
      engName: "Piercing Arrow",
      shortDescription:
        "Лінія 30 футів, ряткидок Спритності; при провалі повна шкода атаки +1к6 колотої, при успіху половина; з 18 рівня +2к6.",
      description:
        "Ви не робите кидок атаки. Стріла летить лінією 1 фут завширшки та 30 футів завдовжки, ігноруючи укриття та перешкоди. Кожна істота в лінії робить ряткидок Спритності. При провалі вона отримує шкоду, ніби була влучена стрілою, плюс 1к6 колотої шкоди; при успіху — половину.\n\nЗ 18 рівня додаткова колота шкода становить 2к6.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Стріла-наведення",
      engName: "Seeking Arrow",
      shortDescription:
        "Без кидка атаки: обрана видима істота за останню хвилину робить ряткидок Спритності, ігнорується укриття; при провалі звичайна шкода +1к6 силової і ви дізнаєтесь позицію; при успіху половина, позицію не дізнаєтесь. З 18 рівня +2к6.",
      description:
        "Ви обираєте істоту, яку бачили протягом останньої хвилини. Стріла летить до неї, оминаючи кути та ігноруючи тричвертні та половинні укриття. Якщо ціль у межах дальності та є шлях для стріли, ціль робить ряткидок Спритності. При провалі вона отримує шкоду, ніби була влучена стрілою, плюс 1к6 силової шкоди, а ви дізнаєтеся її поточне місцезнаходження. При успіху — половина додаткової шкоди, без виявлення позиції.\n\nЗ 18 рівня силова шкода становить 2к6.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Тіньова стріла",
      engName: "Shadow Arrow",
      shortDescription:
        "+2к6 психічної шкоди та ряткидок Мудрості або ціль бачить лише в межах 5 футів до вашого наступного ходу; з 18 рівня 4к6.",
      description:
        "Ціль отримує додаткові 2к6 психічної шкоди та робить ряткидок Мудрості. При провалі до початку вашого наступного ходу вона не бачить нічого далі ніж на 5 футів від себе.\n\nЗ 18 рівня психічна шкода становить 4к6.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // ===== Battle Master =====
    {
      name: "Бойова перевага",
      engName: "Combat Superiority",
      shortDescription:
        "4 кубики переваги (d8), маневри, КС 8 + БМ + Сила/Спритність; кубики відновлюються за короткий/тривалий відпочинок.",
      description:
        "На 3 рівні ви вивчаєте три маневри на вибір із списку Майстра бою. Ви застосовуєте лише один маневр на атаку. На 7, 10 та 15 рівнях вивчаєте ще по два маневри; при кожному вивченні можете замінити відомий маневр на інший.\n\nВи маєте 4 кубики переваги d8. Кубик витрачається, коли ви застосовуєте маневр, і відновлюється після короткого або тривалого відпочинку. Ще один кубик отримуєте на 7 рівні (5 кубиків) і на 15 рівні (6 кубиків).\n\nДеякі маневри вимагають ?????????: КС = 8 + ваш Бонус Майстерності + ваш модифікатор Сили або Спритності (на вибір).\n\nНа 10 рівні розмір кубиків стає d10, на 18 — d12.",
      displayType: [FeatureDisplayType.CLASS_RESOURCE],
      limitedUsesPer: RestType.SHORT_REST,
    },
    {
      name: "Учень війни",
      engName: "Student of War",
      shortDescription: "Отримуєте Володіння одним ремісничим інструментом на вибір.",
      description:
        "На 3 рівні ви здобуваєте Володіння одним видом ремісничих інструментів за вашим вибором, віддзеркалюючи вашу увагу до історії, теорії та ремесел війни.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Знай свого ворога",
      engName: "Know Your Enemy",
      shortDescription:
        "Хвилина спостереження дозволяє порівняти дві характеристики істоти з вами (рівні, здоров’я тощо).",
      description:
        "На 7 рівні, якщо ви спостерігаєте або взаємодієте з істотою поза боєм не менше 1 хвилини, Майстер повідомляє, чи є вона рівною, вищою чи нижчою за вас за двома характеристиками на вибір: значення Сили, Спритності, Статури; Клас Броні; поточні хіти; загальна кількість рівнів класів (якщо є); рівні бійця (якщо є).",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Посилена бойова перевага",
      engName: "Improved Combat Superiority",
      shortDescription: "Кубики переваги стають d10, а з 18 рівня — d12.",
      description: "На 10 рівні ваші кубики переваги стають d10. На 18 рівні вони стають d12.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Невпинність",
      engName: "Relentless (Battle Master)",
      shortDescription: "Якщо немає кубиків переваги, при кидку ініціативи відновлюєте один.",
      description:
        "На 15 рівні, коли ви кидаєте ініціативу і не маєте жодного кубика переваги, ви відновлюєте один.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // Battle Master maneuvers
    {
      name: "Засідка",
      engName: "Ambush",
      shortDescription: "Додаєте кубик переваги до перевірки Спритності (Непомітність) чи ініціативи.",
      description:
        "Коли ви робите перевірку Спритності (Непомітність) або кидок ініціативи, можете витратити кубик переваги та додати кидок кубика до результату (якщо не Непрацездатні).",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Пастка й обмін",
      engName: "Bait and Switch",
      shortDescription:
        "Міняєтеся місцями з істотою в 5 футах, додаєте кубик до КБ собі чи їй до початку вашого наступного ходу.",
      description:
        "Коли ви перебуваєте в межах 5 футів від істоти у свій хід, можете витратити кубик переваги та помінятися з нею місцями, витративши щонайменше 5 футів руху (істота має бути згодною й не Непрацездатною). Цей рух не провокує можливих атак. Киньте кубик переваги: до початку вашого наступного ходу ви або інша істота (на вибір) отримує бонус до КБ, рівний кидку.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Готовність",
      engName: "Brace",
      shortDescription: "Реакцією б’єте істоту, що заходить у вашу досяжність, додаючи кубик до шкоди.",
      description:
        "Коли істота, яку ви бачите, входить у вашу досяжність із рукопашною зброєю, можете реакцією витратити кубик переваги та зробити одну атаку цією зброєю. При влучанні додайте кубик переваги до шкоди.",
      displayType: [FeatureDisplayType.REACTION],
    },
    {
      name: "Наказ атакувати",
      engName: "Commander's Strike",
      shortDescription: "Бонусною дією змушуєте союзника атакувати, додаючи кубик до шкоди.",
      description:
        "Коли ви робите Дію Атака, можете відмовитися від однієї своєї атаки та бонусною дією наказати союзнику, який вас бачить або чує, ударити. Ви витрачаєте кубик переваги, і союзник реакцією робить одну атаку зброєю, додаючи кубик до шкоди.",
      displayType: [FeatureDisplayType.BONUSACTION],
    },
    {
      name: "Владна присутність",
      engName: "Commanding Presence",
      shortDescription: "Додаєте кубик до перевірок Харизми (Залякування/Виступ/Переконання).",
      description:
        "Коли робите перевірку Харизми (Залякування), (Виступ) або (Переконання), можете витратити кубик переваги та додати його кидок до результату.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Роззброювальний удар",
      engName: "Disarming Attack",
      shortDescription: "Додаєте кубик до шкоди й змушуєте ціль скинути предмет (???????? Сили Сили Сили Сили Сили Сили Сили Сили).",
      description:
        "Коли ви влучаєте атакою зброєю, можете витратити кубик переваги, щоб спробувати роззброїти ціль. Додайте кубик до шкоди, а ціль робить ???????? Сили Сили Сили Сили Сили Сили Сили Сили. При провалі вона скидає обраний предмет, який тримає, на своїх ногах.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Відволікаючий удар",
      engName: "Distracting Strike",
      shortDescription:
        "Додаєте кубик до шкоди, наступна атака по цілі (не вами) має перевагу до вашого наступного ходу.",
      description:
        "Коли ви влучаєте атакою зброєю, можете витратити кубик переваги, щоб відволікти ціль. Додайте кубик до шкоди, а наступний кидок атаки по цілі від іншого нападника до початку вашого наступного ходу робиться з перевагою.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Ухильні кроки",
      engName: "Evasive Footwork",
      shortDescription: "Під час руху додаєте кубик до КБ до завершення руху.",
      description:
        "Коли ви рухаєтеся, можете витратити кубик переваги, кинути його та додати результат до КБ, доки не перестанете рухатися цього ходу.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Обманний удар",
      engName: "Feinting Attack",
      shortDescription:
        "Бонусною дією обираєте ціль у 5 футах, отримуєте перевагу на наступну атаку цього ходу та додаєте кубик до шкоди.",
      description:
        "Витрачаючи кубик переваги та бонусну дію, ви обираєте ціль у межах 5 футів. Наступний кидок атаки по цій цілі цього ходу робиться з перевагою; при влучанні додайте кубик до шкоди.",
      displayType: [FeatureDisplayType.BONUSACTION],
    },
    {
      name: "Дратівливий удар",
      engName: "Goading Attack",
      shortDescription:
        "Додаєте кубик до шкоди; ряткидок Мудрості або атаки цілі по інших із перешкодою до вашого наступного ходу.",
      description:
        "Коли ви влучаєте атакою зброєю, можете витратити кубик переваги, щоб спровокувати ціль. Додайте кубик до шкоди, а ціль робить ???????? Мудрості Мудрості Мудрості Мудрості Мудрості Мудрості Мудрості Мудрості. При провалі вона має перешкоду на атаки проти будь-кого, крім вас, до кінця вашого наступного ходу.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Захоплювальний удар",
      engName: "Grappling Strike",
      shortDescription:
        "Після влучання рукопашною атакою бонусною дією робите захоплення, додаючи кубик до перевірки Сили (Атлетика).",
      description:
        "Одразу після влучання рукопашною атакою у свій хід можете витратити кубик переваги та бонусною дією спробувати захопити ціль (згідно правил PHB). Додайте кубик переваги до перевірки Сили (Атлетика).",
      displayType: [FeatureDisplayType.BONUSACTION],
    },
    {
      name: "Укол із випаду",
      engName: "Lunging Attack",
      shortDescription: "Збільшує досяжність атаки на 5 футів, додає кубик до шкоди.",
      description:
        "Коли ви робите рукопашну атаку зброєю у свій хід, можете витратити кубик переваги, щоб збільшити досяжність цієї атаки на 5 футів. При влучанні додайте кубик до шкоди.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Маневровий удар",
      engName: "Maneuvering Attack",
      shortDescription:
        "Додаєте кубик до шкоди, дозволяєте союзнику реакцією рух до половини швидкості без спровокованих атак від цілі.",
      description:
        "Коли ви влучаєте атакою зброєю, можете витратити кубик переваги, щоб допомогти союзнику. Додайте кубик до шкоди та оберіть союзника, який бачить або чує вас. Він може реакцією переміститися до половини своєї швидкості без провокування можливих атак від вашої цілі.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Лякаючий удар",
      engName: "Menacing Attack",
      shortDescription:
        "Додаєте кубик до шкоди; Статури???????? Статури Статури Статури Статури Статури Статури Статури Статури???????? або ціль налякана до кінця вашого наступного ходу.",
      description:
        "Коли ви влучаєте атакою зброєю, можете витратити кубик переваги, щоб спробувати налякати ціль. Додайте кубик до шкоди, а ціль робить ???????? Мудрості Мудрості Мудрості Мудрості Мудрості Мудрості Мудрості Мудрості. При провалі вона налякана вами до кінця вашого наступного ходу.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Парирування",
      engName: "Parry",
      shortDescription:
        "Реакцією зменшуєте шкоду рукопашної атаки на кидок кубика + модифікатор Спритності.",
      description:
        "Коли інша істота завдає вам шкоди рукопашною атакою, ви можете реакцією витратити кубик переваги, зменшивши шкоду на кидок кубика + ваш модифікатор Спритності.",
      displayType: [FeatureDisplayType.REACTION],
    },
    {
      name: "Точний удар",
      engName: "Precision Attack",
      shortDescription: "Додаєте кубик до кидка атаки (до або після кидка, але до ефекту).",
      description:
        "Коли ви робите кидок атаки по істоті, можете витратити кубик переваги та додати його до кидка. Можна зробити до або після кидка, але до застосування ефектів атаки.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Відштовхувальний удар",
      engName: "Pushing Attack",
      shortDescription:
        "Додаєте кубик до шкоди; якщо ціль Велика чи менша і провалює ???????? Сили Сили Сили Сили Сили Сили Сили Сили, ви штовхаєте її до 15 футів.",
      description:
        "Коли ви влучаєте атакою зброєю, можете витратити кубик переваги, щоб спробувати відштовхнути ціль. Додайте кубик до шкоди, а якщо ціль Велика чи менша, вона робить ???????? Сили Сили Сили Сили Сили Сили Сили Сили. При провалі ви штовхаєте її до 15 футів від себе.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Швидкий кидок",
      engName: "Quick Toss",
      shortDescription: "Бонусною дією кидаєте зброю з властивістю «метальна», додаючи кубик до шкоди.",
      description:
        "Витративши кубик переваги та бонусну дію, ви робите дальню атаку зброєю з властивістю «метальна». Ви можете дістати зброю як частину цієї атаки. При влучанні додайте кубик до шкоди.",
      displayType: [FeatureDisplayType.BONUSACTION],
    },
    {
      name: "Підбадьорення",
      engName: "Rally",
      shortDescription: "Бонусною дією даєте союзнику тимчасові хіти = кубик переваги + модифікатор Харизми.",
      description:
        "У свій хід бонусною дією витрачаєте кубик переваги, обираєте союзника, який бачить або чує вас. Він отримує тимчасові хіти, рівні кидку кубика + ваш модифікатор Харизми.",
      displayType: [FeatureDisplayType.BONUSACTION],
    },
    {
      name: "Відплата",
      engName: "Riposte",
      shortDescription: "Реакцією після промаху по вам робите атаку та додаєте кубик до шкоди.",
      description:
        "Коли істота промахується по вам рукопашною атакою, ви можете реакцією витратити кубик переваги, зробити атаку рукопашною зброєю по цілі та при влучанні додати кубик до шкоди.",
      displayType: [FeatureDisplayType.REACTION],
    },
    {
      name: "Розмашистий удар",
      engName: "Sweeping Attack",
      shortDescription:
        "При влучанні додаєте кубик, щоб вразити другу ціль у досяжності, якщо початковий кидок її влучає.",
      description:
        "Коли ви влучаєте рукопашною атакою зброєю, можете витратити кубик переваги, щоб спробувати вдарити іншу істоту в 5 футах від початкової цілі та у вашій досяжності. Якщо початковий кидок атаки достатній, друга істота отримує шкоду, рівну кидку кубика, того ж типу.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Тактична оцінка",
      engName: "Tactical Assessment",
      shortDescription: "Додаєте кубик до перевірок Інтелекту (Дослідження/Історія) чи Мудрості (Проникливість).",
      description:
        "Коли робите перевірку Інтелекту (Дослідження або Історія) чи Мудрості (Проникливість), можете витратити кубик переваги та додати його кидок до результату.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Підніжка",
      engName: "Trip Attack",
      shortDescription:
        "Додаєте кубик до шкоди; якщо ціль Велика чи менша і провалює ???????? Сили Сили Сили Сили Сили Сили Сили Сили, вона Повалена.",
      description:
        "Коли ви влучаєте атакою зброєю, можете витратити кубик переваги, щоб збити ціль. Додайте кубик до шкоди, а якщо ціль Велика чи менша, вона робить ???????? Сили Сили Сили Сили Сили Сили Сили Сили. При провалі вона Повалена.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // ===== Cavalier =====
    {
      name: "Додаткова майстерність (Кавалерист)",
      engName: "Bonus Proficiency (Cavalier)",
      shortDescription:
        "Отримуєте Володіння Атлетикою або Переконанням чи відповідними інструментами вершника (за згодою Майстра).",
      description:
        "На 3 рівні ви отримуєте Володіння однією навичкою: Атлетика або Переконання. Або, за згодою Майстра, Володіння інструментами, доречними до вашої ролі вершника (наприклад, сідельні чи стайняра).",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Народжений у сідлі",
      engName: "Born to the Saddle",
      shortDescription:
        "Злазите/сідаєте за 5 футів руху; падіння з коня 10 футів — без шкоди; перевірки на утримання в сідлі з перевагою.",
      description:
        "На 3 рівні злізання з вершника або посадка коштує вам лише 5 футів руху, а падіння з гори на 10 футів чи менше не завдає шкоди, якщо не Непрацездатні. Усі перевірки, щоб уникнути падіння з гори, робляться з перевагою.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Невідступна відмітка",
      engName: "Unwavering Mark",
      shortDescription:
        "Позначаєте істоту при влучанні; атаки цілі по інших з перешкодою, а при завданні шкоди іншим ви реакцією б’єте її з бонусною шкодою.",
      description:
        "Коли ви влучаєте рукопашною атакою по істоті в межах досяжності, ви позначаєте її до кінця вашого наступного ходу. Позначена істота має перешкоду на кидки атак по будь-кому, крім вас. Якщо позначена істота завдає шкоди комусь іншому, поки в межах 5 футів від вас, ви можете реакцією здійснити одну рукопашну атаку по ній. При влучанні вона отримує додаткову шкоду, рівну половині вашого рівня бійця (округлення донизу). Використати цю реакцію можна кількість разів, рівну вашому модифікатору Сили (мінімум 1); усі використання відновлюються після тривалого відпочинку.",
      displayType: [FeatureDisplayType.REACTION],
      limitedUsesPer: RestType.LONG_REST,
      usesCountDependsOnProficiencyBonus: false,
    },
    {
      name: "Оборонний маневр",
      engName: "Warding Maneuver",
      shortDescription:
        "Реакцією додаєте 1к8 до КБ собі чи союзнику поруч; при влучанні шкода зменшується на 1к8. Використань: 2 + БМ за довгий відпочинок.",
      description:
        "На 7 рівні, коли ви або союзник у межах 5 футів стає ціллю атаки, ви можете реакцією додати 1к8 до КБ цілі до кінця атаки. Якщо атака все ж влучає, ціль отримує стільки ж зменшеної шкоди (1к8). Використати цю реакцію можна 2 рази плюс ваш Бонус Майстерності за тривалий відпочинок.",
      displayType: [FeatureDisplayType.REACTION],
      limitedUsesPer: RestType.LONG_REST,
    },
    {
      name: "Утримувати лінію",
      engName: "Hold the Line",
      shortDescription:
        "Можливі атаки проти ворогів, що входять у досяжність; при влучанні швидкість стає 0 на хід.",
      description:
        "На 10 рівні істоти, що входять у вашу рукопашну досяжність, провокують можливі атаки. Якщо ви влучаєте такою атакою, швидкість цілі стає 0 до кінця її ходу.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Лютій натиск",
      engName: "Ferocious Charger",
      shortDescription:
        "Після Риву 10 футів і влучання рукопашною атакою бонусною дією можете повалити ціль (???????? Сили Сили Сили Сили Сили Сили Сили Сили).",
      description:
        "На 15 рівні, коли ви робите Ривок щонайменше на 10 футів і влучаєте рукопашною атакою, можете бонусною дією змусити ціль зробити ???????? Сили Сили Сили Сили Сили Сили Сили Сили (КС 8 + БМ + модифікатор Сили). При провалі ціль Повалена.",
      displayType: [FeatureDisplayType.BONUSACTION],
    },
    {
      name: "Пильний захисник",
      engName: "Vigilant Defender",
      shortDescription:
        "Можете робити реакцію на можливу атаку проти ворога в досяжності раз за хід, а не раз за раунд.",
      description:
        "На 18 рівні ви отримуєте особливий ритм реакцій: можете робити реакцію на можливу атаку проти ворога в межах досяжності раз у кожному ході (не лише один раз за раунд). Стандартне обмеження «1 реакція за раунд» не застосовується, але все одно не більше однієї реакції за хід.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // ===== Champion =====
    {
      name: "Покращений критичний удар",
      engName: "Improved Critical (Champion)",
      shortDescription: "Критичний удар по кидках атаки 19–20.",
      description: "На 3 рівні ваші кидки атаки завдають критичний удар при результаті 19 або 20 на d20.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Вражаючий атлет",
      engName: "Remarkable Athlete",
      shortDescription:
        "Додаєте половину БМ до перевірок Сили/Спритності/Статури без Майстерності; збільшуєте довжину стрибків.",
      description:
        "На 7 рівні додаєте половину свого Бонусу Майстерності (округл. вгору) до будь-якої перевірки Сили, Спритності або Статури, до якої вже не додаєте Бонус Майстерності. Крім того, збільшуєте дистанцію довгого та високого стрибків на число, рівне вашому модифікатору Сили.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Додатковий стиль бою",
      engName: "Additional Fighting Style (Champion)",
      shortDescription: "На 10 рівні отримуєте ще один Стиль бою бійця (крім тих, що вже знаєте).",
      description:
        "На 10 рівні ви обираєте ще один Стиль бою із доступних бійцю. Ви не можете обрати стиль, який вже знаєте.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Вища критика",
      engName: "Superior Critical",
      shortDescription: "Критичний удар по кидках атаки 18–20.",
      description: "На 15 рівні ваші кидки атаки завдають критичний удар при результаті 18–20 на d20.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Виживальник",
      engName: "Survivor",
      shortDescription:
        "На початку ходу, якщо хіти ≤ половини та >0, відновлюєте хіти = 5 + модифікатор Статури.",
      description:
        "На 18 рівні на початку кожного вашого ходу, якщо ваші хіти не перевищують половину максимуму та ви не на 0 хітів, ви відновлюєте 5 хітів + ваш модифікатор Статури. Не працює, якщо у вас 0 хітів.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // ===== Banneret =====
    {
      name: "Надихаючий крик",
      engName: "Rallying Cry",
      shortDescription:
        "При Другому диханні обираєте до 3 союзників у 60 футах, вони відновлюють хіти = ваш рівень бійця.",
      description:
        "На 3 рівні, коли ви використовуєте Друге дихання, оберіть до трьох союзних істот у межах 60 футів, що вас бачать/чують. Кожна відновлює хіти, рівні вашому рівню бійця, за умови, що істота бачить або чує вас.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Королівський посланець",
      engName: "Royal Envoy",
      shortDescription:
        "Володіння Переконанням (або інша навичка), половина БМ до Переконання/Виступу без Майстерності; додаткова мова чи інструмент.",
      description:
        "На 7 рівні ви отримуєте Володіння навичкою Переконання. Якщо вже маєте, замість цього отримуєте Володіння Виступом або іншою навичкою на вибір Майстра. Крім того, додаєте половину Бонусу Майстерності (округл. вгору) до перевірок Переконання та Виступу, якщо вже не додаєте Бонус Майстерності.\n\nДодатково ви вивчаєте одну мову на вибір або отримуєте Володіння одним інструментом.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Натхненний натиск",
      engName: "Inspiring Surge",
      shortDescription:
        "Коли використовуєте Порив дії, один (або два на 18 рівні) союзник у 60 футах може реакцією зробити атаку.",
      description:
        "На 10 рівні, коли ви використовуєте Порив дії, можете обрати союзника в межах 60 футів, що вас бачить/чують. Цей союзник може реакцією зробити одну атаку зброєю. На 18 рівні ви можете обрати двох союзників (або одного двічі — він робить дві атаки).",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Опора",
      engName: "Bulwark (Banneret)",
      shortDescription:
        "Коли використовуєте Незламний на ряткидок Інт/Мудр/Хар, союзник у 60 футах також може повторити той самий ряткидок.",
      description:
        "На 15 рівні, коли ви використовуєте Незламний на Статури???????? Інтелекту Інтелекту Інтелекту Інтелекту Інтелекту Інтелекту Інтелекту Інтелекту, Мудрості або Харизми і не провалюєте його, ви можете обрати союзника в межах 60 футів, що вас бачить/чують. Цей союзник може кинути той самий Статури???????? з тією ж перевагою, використовуючи свою реакцію.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // ===== Echo Knight =====
    {
      name: "Прояв луни",
      engName: "Manifest Echo",
      shortDescription:
        "Бонусною дією викликаєте ехоподібний образ на 15 футів; атакуєте та робите реакції з його позиції.",
      description:
        "На 3 рівні бонусною дією ви створюєте магічну луну в порожній клітинці в 15 футах, яка триває до знищення, віддалення понад 30 футів чи нового прояву. Як бонусну дію можете перемістити луну на 30 футів. Коли робите Дію Атака, можете атакувати з позиції луни; при цьому ви розглядаєтеся як перебуваєте в її клітинці. Реакцією ви можете робити можливі атаки з позиції луни. Якщо істота в 5 футах від луни, яку ви бачите, робить кидок рятунку, ви можете реакцією надати цьому кидку перешкоду.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Виплеск втілення",
      engName: "Unleash Incarnation",
      shortDescription:
        "Коли робите Дію Атака, можете додати ще одну атаку через луну. Використань = Бонус Майстерності за ДВ.",
      description:
        "Починаючи з 3 рівня, коли ви робите Дію Атака, можете створити ще одну атаку з позиції вашої луни. Кількість використань дорівнює вашому Бонусу Майстерності; усі відновлюються після тривалого відпочинку.",
      displayType: [FeatureDisplayType.PASSIVE],
      limitedUsesPer: RestType.LONG_REST,
      usesCountDependsOnProficiencyBonus: true,
    },
    {
      name: "Аватар луни",
      engName: "Echo Avatar",
      shortDescription:
        "Дією можете бачити й чути через луну до 1000 футів, керуючи її рухом без нового прояву.",
      description:
        "На 7 рівні Дією ви можете сприймати світ через луну до 10 хвилин, отримуючи зорові та слухові відчуття від її місця, але при цьому самі сліпі та глухі до власного оточення. У цьому стані можете переміщувати луну в радіусі до 1000 футів від себе без витрат на новий прояв.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Тіньовий мученик",
      engName: "Shadow Martyr",
      shortDescription:
        "Реакцією ставите луну біля союзника та змушуєте атаку влучити по ній замість союзника; 1/КВ.",
      description:
        "На 10 рівні, коли істота, яку ви бачите, атакує союзника в межах 30 футів, ви можете реакцією телепортувати луну в порожню клітинку в 5 футах від союзника та змусити атаку влучити по луні. Якщо атака знищує луну, вона щезає. Використати можна раз за короткий або тривалий відпочинок.",
      displayType: [FeatureDisplayType.REACTION],
      limitedUsesPer: RestType.SHORT_REST,
      usesCount: 1,
    },
    {
      name: "Повернена потенція",
      engName: "Reclaim Potential",
      shortDescription:
        "Коли луну знищено атакою, реакцією отримуєте тимчасові хіти 2к6 + модифікатор Статури (1/КВ).",
      description:
        "На 15 рівні, коли луна знищується атакою в 30 футах від вас, ви можете реакцією отримати тимчасові хіти, рівні 2к6 + ваш модифікатор Статури. Використати можна раз за короткий або тривалий відпочинок.",
      displayType: [FeatureDisplayType.REACTION],
      limitedUsesPer: RestType.SHORT_REST,
      usesCount: 1,
    },
    {
      name: "Легіон один",
      engName: "Legion of One",
      shortDescription:
        "Можете підтримувати 2 луни; Unleash Incarnation дає 2 атаки; при ініціативі без використань відновлюєте одне.",
      description:
        "На 18 рівні, коли ви проявляєте луну, можете створити відразу дві, але якщо створюєте нову, попередні зникають. Unleash Incarnation тепер створює дві додаткові атаки замість однієї. Коли кидаєте ініціативу й не маєте використань Unleash Incarnation, відновлюєте одне.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // ===== Eldritch Knight =====
    {
      name: "Чаротворство містичного лицаря",
      engName: "Spellcasting (Eldritch Knight)",
      shortDescription: "Ви вивчаєте заклинання мага (Інтелект), третинний заклинач з акцентом на Охорону/Зачарування.",
      description:
        "На 3 рівні ви навчаєтеся накладати заклинання мага, використовуючи таблицю третинного заклинача та Інтелект як основну характеристику (КС = 8 + БМ + мод. Інтелекту, кидок атаки заклинанням = БМ + мод. Інтелекту). Ви вивчаєте 2 заклинання та 2 замовляння; більшість вивчених заклинань мають бути зі шкіл Зачарування або Охорони. Для кожного нового рівня заклинань, який ви вивчаєте після 3-го, одне заклинання може бути будь-якої школи мага.",
      displayType: [FeatureDisplayType.PASSIVE],
      grantsSpellSlots: true,
    },
    {
      name: "Зв’язок зі зброєю",
      engName: "Weapon Bond",
      shortDescription: "Прив’язуєтеся до до двох зброї: не можете бути обеззброєні та можете викликати зброю бонусною дією.",
      description:
        "На 3 рівні ви можете виконати 1-годинний ритуал, прив’язуючись до однієї рукопашної або дальньої зброї. Поки вона прив’язана, вас не можна роззброїти, якщо ви не Непрацездатні, а також ви можете бонусною дією телепортувати її в руку з того ж виміру. Можна мати до двох прив’язаних предметів; прив’язка третього розриває старішу.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Бойова магія",
      engName: "War Magic",
      shortDescription: "Після замовляння бонусною дією робите одну атаку зброєю.",
      description: "На 7 рівні, коли ви застосовуєте замовляння за Дію, можете бонусною дією зробити одну атаку зброєю.",
      displayType: [FeatureDisplayType.BONUSACTION],
    },
    {
      name: "Містичний удар",
      engName: "Eldritch Strike",
      shortDescription:
        "При влучанні атакою зброєю накладаєте перешкоду на наступний ряткидок цілі проти вашого заклинання до кінця вашого наступного ходу.",
      description:
        "На 10 рівні, коли ви влучаєте атакою зброєю по істоті, вона має перешкоду на наступний Статури???????? проти заклинання, яке ви накладете на неї до кінця вашого наступного ходу.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Арканний кидок",
      engName: "Arcane Charge",
      shortDescription: "Коли використовуєте Порив дії, можете телепортуватися на 30 футів до чи після додаткової Дії.",
      description:
        "На 15 рівні, коли ви використовуєте Порив дії, можете телепортуватися на до 30 футів у порожню клітинку, яку бачите, до чи після додаткової Дії.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Покращена бойова магія",
      engName: "Improved War Magic",
      shortDescription: "Після накладання будь-якого заклинання Дією можете бонусною дією зробити одну атаку зброєю.",
      description:
        "На 18 рівні, коли ви накладаєте заклинання Дією, можете бонусною дією зробити одну атаку зброєю.",
      displayType: [FeatureDisplayType.BONUSACTION],
    },

    // ===== Psi Warrior =====
    {
      name: "Псі-енергія",
      engName: "Psionic Power",
      shortDescription: "Псі-кубики (d6 → d8/d10/d12) у кількості 2×БМ; опції: Захисне поле, Псі-удар, Телекінетичний рух.",
      description:
        "На 3 рівні ви отримуєте запас псі-енергії: кількість кубиків дорівнює двом вашим Бонусам Майстерності, початково d6. Розмір кубиків зростає до d8 на 5 рівні, d10 на 11, d12 на 17. Ви відновлюєте всі витрачені кубики після тривалого відпочинку і половину (округл. вгору) після короткого. Коли викидаєте 1 на кубику псі-енергії, він не витрачається.\n\nОпції:\n• Захисне поле: реакцією після того, як істота, яку бачите в 30 футах, отримує шкоду, витрачаєте кубик, щоб зменшити шкоду на кидок + ваш модифікатор Інтелекту (мін. 1).\n• Псі-удар: після влучання атакою можете витратити кубик, щоб завдати додаткову психічну шкоду, рівну кидку + модифікатор Інтелекту.\n• Телекінетичний рух: Дією витрачаєте кубик, щоб пересунути предмет чи істоту (до Середньої) на до 30 футів у видиму точку (не більше 30 футів від вас).",
      displayType: [FeatureDisplayType.CLASS_RESOURCE],
      limitedUsesPer: RestType.LONG_REST,
    },
    {
      name: "Телкінетичний адепт",
      engName: "Telekinetic Adept",
      shortDescription:
        "Додає Псі-стрибок (політ до кінця ходу) та Телкінетичний поштовх до Псі-удару (???????? Сили Сили Сили Сили Сили Сили Сили Сили, штовх/повалення).",
      description:
        "На 7 рівні ви вдосконалюєте телекинез:\n• Псі-стрибок. Бонусною дією витрачаєте кубик псі-енергії, щоб до кінця цього ходу отримати швидкість польоту, рівну подвійній вашій швидкості ходи.\n• Телкінетичний поштовх. Коли ви завдаєте шкоди Псі-ударом, можете змусити ціль зробити ???????? Сили Сили Сили Сили Сили Сили Сили Сили. При провалі ви або штовхаєте її на 10 футів, або Повалюєте (на вибір).",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Захищений розум",
      engName: "Guarded Mind",
      shortDescription: "Опір психічній шкоді; реакцією витрачаєте кубик, щоб скинути чарування/наляканість.",
      description:
        "На 10 рівні ви отримуєте опір психічній шкоді. Крім того, коли ви стаєте налякані або зачаровані, можете реакцією витратити кубик псі-енергії, щоб завершити ефект на собі (не витрачаючи кубик, якщо результат кидка дорівнює 1).",
      displayType: [FeatureDisplayType.REACTION],
    },
    {
      name: "Захисний заслін",
      engName: "Bulwark of Force",
      shortDescription:
        "Бонусною дією витрачаєте кубик, щоб надати до Інт мод. істотам у 30 футах Півукриття на 1 хвилину; 1/ДВ без витрати кубика.",
      description:
        "На 15 рівні ви можете бонусною дією витратити кубик псі-енергії, щоб оточити себе й до модифікатора Інтелекту (мін. 1) істот у 30 футах телекинетичним щитом. Кожна обрана істота отримує Півукриття (бонус +2 до КБ і ???????? Спритності Спритності Спритності Спритності Спритності Спритності Спритності Спритності) на 1 хвилину або поки ви не Непрацездатні. Ви можете використати цю рису один раз, не витрачаючи кубик псі-енергії; після того повторне використання вимагає витрати кубика, і всі використання відновлюються після тривалого відпочинку.",
      displayType: [FeatureDisplayType.BONUSACTION],
      limitedUsesPer: RestType.LONG_REST,
      usesCount: 1,
    },
    {
      name: "Майстер телекинезу",
      engName: "Telekinetic Master",
      shortDescription:
        "Раз за ДВ накладаєте «Телкінез» без осередку; доки концентруєтесь, бонусною дією робите атаку зброєю.",
      description:
        "На 18 рівні ви можете раз за тривалий відпочинок накласти <a href=\"/spell/1139\">Телекінез [Telekinesis]</a> без витрати осередку чи матеріальних компонентів. Поки підтримуєте концентрацію на ньому, можете бонусною дією зробити одну атаку зброєю.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // ===== Rune Knight =====
    {
      name: "Додаткові майстерності (Рунний лицар)",
      engName: "Bonus Proficiencies (Rune Knight)",
      shortDescription: "Отримуєте Володіння ковалівськими інструментами та мовою велетнів.",
      description: "На 3 рівні ви здобуваєте Володіння ковалівськими інструментами та вивчаєте мову велетнів.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Різьбяр рун",
      engName: "Rune Carver",
      shortDescription:
        "Вивчаєте 2 руни (3/7, 4/10, 5/15), наносите їх під час тривалого відпочинку на предмети, що носите/тримаєте.",
      description:
        "На 3 рівні ви вивчаєте дві руни на вибір із списку Рунного лицаря. На 7 рівні ви знаєте 3 руни, на 10 — 4, на 15 — 5. Щоразу, коли здобуваєте рівень у цьому класі, можете замінити одну відому руну на іншу. Після тривалого відпочинку ви можете нанести руни на кількість об’єктів, рівну кількості відомих рун (кожен на інший предмет). Предмет має бути зброєю, бронею, щитом, коштовністю або тим, що ви можете носити чи тримати. Руна триває до наступного тривалого відпочинку; один предмет може містити лише одну вашу руну. Для рун із вимогою рівня ви повинні бути не нижче зазначеного рівня.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Міць велетня",
      engName: "Giant's Might",
      shortDescription:
        "Бонусною дією збільшуєтеся (до Великого) на 1 хвилину, додаєте 1к6 до однієї атаки зброєю за хід; 2/ДВ.",
      description:
        "На 3 рівні бонусною дією ви можете набрати міць велетня на 1 хвилину. Протягом цього часу, якщо ви менші за Великий, можете стати Великим (або Звичайним, якщо були Крихітним/Малим), і раз за хід додаєте 1к6 до однієї шкоди атаки зброєю при влучанні. Кількість використань дорівнює 2; відновлюються після тривалого відпочинку.",
      displayType: [FeatureDisplayType.BONUSACTION],
      limitedUsesPer: RestType.LONG_REST,
      usesCount: 2,
    },
    {
      name: "Рунний щит",
      engName: "Runic Shield",
      shortDescription:
        "Реакцією примушуєте повторити кидок атаки по істоті в 60 футах; використань 2 + БМ за ДВ.",
      description:
        "На 7 рівні, коли істота, яку ви бачите в 60 футах, влучає по цілі кидком атаки, ви можете реакцією змусити її повторити кидок, використавши новий результат. Ви можете використовувати цю рису 2 рази плюс ваш Бонус Майстерності за тривалий відпочинок.",
      displayType: [FeatureDisplayType.REACTION],
      limitedUsesPer: RestType.LONG_REST,
    },
    {
      name: "Велика статура",
      engName: "Great Stature",
      shortDescription: "На 10 рівні ваш зріст збільшується на 1к4 дюйми; додатковий урон Могутності велетня стає 1к8.",
      description:
        "На 10 рівні ви стаєте вищими: киньте 1к4, на стільки дюймів зростає ваш зріст. Додатковий кидок шкоди від Могутності велетня тепер 1к8 замість 1к6.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Майстер рун",
      engName: "Master of Runes",
      shortDescription: "Можете активувати кожну з відомих рун двічі (замість одного) між відпочинками.",
      description:
        "На 15 рівні ви можете активувати кожну руну, яку знаєте, двічі між тривалими відпочинками, замість одного разу.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Рунний громила",
      engName: "Runic Juggernaut",
      shortDescription:
        "При Могутності велетня можете стати Дуже Великим, додатковий урон 1к10, штовхаєте на +5 футів.",
      description:
        "На 18 рівні, коли ви використовуєте Могутність велетня, можете обрати стати Дуже Великим (Huge), якщо клітинка вільна. Додатковий кидок шкоди стає 1к10. Коли ви штовхаєте істоту при зростанні до Великого чи більшого розміру, додаєте ще 5 футів до відстані поштовху.",
      displayType: [FeatureDisplayType.PASSIVE],
    },

    // Rune options
    {
      name: "Руна хмари",
      engName: "Cloud Rune",
      shortDescription:
        "Перевага на Ловкість рук і Обман; реакцією перенаправляєте влучання по іншій цілі в 30 футах. 1/КВ.",
      description:
        "Постійно: перевага на перевірки Спритності (Спритність рук) та Харизми (Обман). Реакцією, коли ви або істота в 30 футах стає ціллю влучної атаки, можете змусити атаку влучити по іншій істоті в 30 футах (крім нападника) тим самим кидком. Використати перенаправлення можна раз за короткий або тривалий відпочинок.",
      displayType: [FeatureDisplayType.REACTION],
      limitedUsesPer: RestType.SHORT_REST,
      usesCount: 1,
    },
    {
      name: "Руна вогню",
      engName: "Fire Rune",
      shortDescription:
        "Подвоює БМ на перевірки з інструментами; при влучанні +2к6 вогн. шкоди та потенційне Обмеження (???????? Сили Сили Сили Сили Сили Сили Сили Сили), 1/КВ.",
      description:
        "Постійний ефект: ваш Бонус Майстерності подвоюється на перевірки з інструментами, де ви маєте Володіння. Коли ви влучаєте атакою зброєю, можете накликати вогняні окови: ціль отримує додатково 2к6 вогняної шкоди та робить ???????? Сили Сили Сили Сили Сили Сили Сили Сили. При провалі вона Обмежена на 1 хвилину й отримує 2к6 вогняної шкоди на початку свого ходу; кидає ???????? Сили Сили Сили Сили Сили Сили Сили Сили наприкінці кожного ходу, щоб звільнитися. Використати окови можна раз за короткий або тривалий відпочинок.",
      displayType: [FeatureDisplayType.PASSIVE],
      limitedUsesPer: RestType.SHORT_REST,
      usesCount: 1,
    },
    {
      name: "Руна холоду",
      engName: "Frost Rune",
      shortDescription:
        "Перевага на Приборкання звірів та Залякування; бонусною дією +2 до перевірок/???????? Сили Сили Сили Сили Сили Сили Сили Сили та Статури на 10 хв., 1/КВ.",
      description:
        "Постійно маєте перевагу на перевірки Мудрості (Приборкання звірів) та Харизми (Залякування). Бонусною дією можете активувати руну на 10 хвилин, отримавши +2 до всіх перевірок і ???????? Сили Сили Сили Сили Сили Сили Сили Сили та Статури. Використати активацію можна раз за короткий або тривалий відпочинок.",
      displayType: [FeatureDisplayType.BONUSACTION],
      limitedUsesPer: RestType.SHORT_REST,
      usesCount: 1,
    },
    {
      name: "Руна каменю",
      engName: "Stone Rune",
      shortDescription:
        "Перевага на Проникливість, темнозір 120 футів; реакцією чаруєте істоту в 30 футах (Статури???????? Статури Статури Статури Статури Статури Статури Статури Статури????????) на до 1 хв., 1/КВ.",
      description:
        "Постійний ефект: перевага на перевірки Мудрості (Проникливість) та темнозір 120 футів. Реакцією, коли істота завершує хід у 30 футах, ви змушуєте її кинути ряткидок Мудрості. При провалі вона зачарована вами до 1 хвилини, має швидкість 0, Непрацездатна та в дрімоті; повторює кидок наприкінці кожного ходу, завершуючи ефект при успіху. Використати можна раз за короткий або тривалий відпочинок.",
      displayType: [FeatureDisplayType.REACTION],
      limitedUsesPer: RestType.SHORT_REST,
      usesCount: 1,
    },
    {
      name: "Руна пагорба",
      engName: "Hill Rune",
      shortDescription:
        "Вимагає 7 рівень. Постійно: перевага проти отруєння й опір отруті; бонусною дією дає опір дроб./кол./руб. на 1 хв., 1/ДВ.",
      description:
        "Потрібен 7 рівень. Поки руна нанесена, ви маєте перевагу на ряткидок проти отруєння та опір отруйній шкоді. Бонусною дією можете активувати руну на 1 хвилину, отримуючи опір дробильній, колючій і рубальній шкоді. Використати активацію можна раз за тривалий відпочинок.",
      displayType: [FeatureDisplayType.BONUSACTION],
      limitedUsesPer: RestType.LONG_REST,
      usesCount: 1,
    },
    {
      name: "Руна бурі",
      engName: "Storm Rune",
      shortDescription:
        "Вимагає 7 рівень. Перевага на Аркану, вас не можна застати зненацька; бонусною дією 1 хв. пророчий стан дозволяє надавати перевагу/перешкоду на кидок у 60 футах (реакція), 1/ДВ.",
      description:
        "Потрібен 7 рівень. Постійно маєте перевагу на перевірки Інтелекту (Аркана) і не можете бути застигнуті зненацька, якщо не Непрацездатні. Бонусною дією можете увійти в пророчий стан на 1 хвилину або поки не станете Непрацездатні. У цьому стані, коли ви або істота в 60 футах робить кидок атаки, ряткидок чи перевірку, ви можете реакцією надати перевагу або перешкоду цьому кидку. Використати можна раз за тривалий відпочинок.",
      displayType: [FeatureDisplayType.BONUSACTION],
      limitedUsesPer: RestType.LONG_REST,
      usesCount: 1,
    },

    // ===== Samurai =====
    {
      name: "Додаткова майстерність (Самурай)",
      engName: "Bonus Proficiency (Samurai)",
      shortDescription:
        "Отримуєте Володіння Історією або інструментами художника/каліграфа (за згодою Майстра).",
      description:
        "На 3 рівні ви отримуєте Володіння навичкою Історія. Якщо вже маєте, Майстер може дозволити вам обрати інструменти каліграфа, живописця або іншу навичку за темою вашого походження.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Бойовий дух",
      engName: "Fighting Spirit",
      shortDescription:
        "Бонусною дією отримуєте тимчасові хіти (5 + рівень бійця) і перевагу на атаки до кінця ходу. Використань = БМ за ДВ.",
      description:
        "На 3 рівні бонусною дією ви можете підняти бойовий дух: отримуєте тимчасові хіти, рівні 5 + ваш рівень бійця, і перевагу на кидки атак до кінця цього ходу. Кількість використань дорівнює вашому Бонусу Майстерності; усі відновлюються після тривалого відпочинку.",
      displayType: [FeatureDisplayType.BONUSACTION],
      limitedUsesPer: RestType.LONG_REST,
      usesCountDependsOnProficiencyBonus: true,
    },
    {
      name: "Вишуканий придворний",
      engName: "Elegant Courtier",
      shortDescription: "Додаєте модифікатор Мудрості до Переконання; отримуєте Володіння Переконанням або Проникливістю.",
      description:
        "На 7 рівні ви додаєте свій модифікатор Мудрості до перевірок Харизми (Переконання). Якщо не маєте Володіння Переконанням, отримуєте його; інакше отримуєте Володіння Проникливістю або іншою навичкою за темою придворної культури (за згодою Майстра).",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Невтомний дух",
      engName: "Tireless Spirit",
      shortDescription: "Якщо починаєте бій без використань Бойового духу, отримуєте одне.",
      description:
        "На 10 рівні, якщо на початку бою у вас немає доступних використань Бойового духу, ви отримуєте одне використання.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Швидкий удар",
      engName: "Rapid Strike",
      shortDescription:
        "Раз за хід можете відмовитись від переваги на кидку атаки, щоб зробити додаткову атаку тим самим нападом.",
      description:
        "На 15 рівні, якщо ви маєте перевагу на кидок атаки, можете раз за хід відмовитися від переваги, щоб зробити додаткову атаку тією ж Дією, Атакою поза чергою чи реакцією.",
      displayType: [FeatureDisplayType.PASSIVE],
    },
    {
      name: "Сила перед смертю",
      engName: "Strength Before Death",
      shortDescription:
        "Коли мали б упасти до 0 хітів, ви натомість миттєво робите один додатковий хід; потім отримуєте рівень виснаження. 1/ДВ.",
      description:
        "На 18 рівні, коли вас зводять до 0 хітів і ви не помираєте, ви можете негайно зробити один додатковий хід перед тим, як впасти. У цьому ході у вас перевага на кидки атаки та перевірки Сили/Спритності. Після цього ви набуваєте рівень виснаження. Використати рису можна раз за тривалий відпочинок.",
      displayType: [FeatureDisplayType.PASSIVE],
      limitedUsesPer: RestType.LONG_REST,
      usesCount: 1,
    },
  ]
  const links: SubclassFeatureLink[] = [
    // Arcane Archer
    { subclass: Subclasses.ARCANE_ARCHER, feature: "Arcane Archer Lore", level: 3 },
    { subclass: Subclasses.ARCANE_ARCHER, feature: "Arcane Shot", level: 3 },
    { subclass: Subclasses.ARCANE_ARCHER, feature: "Magic Arrow", level: 7 },
    { subclass: Subclasses.ARCANE_ARCHER, feature: "Curving Shot", level: 7 },
    { subclass: Subclasses.ARCANE_ARCHER, feature: "Ever-Ready Shot", level: 15 },

    // Banneret
    { subclass: Subclasses.BANNERET, feature: "Rallying Cry", level: 3 },
    { subclass: Subclasses.BANNERET, feature: "Royal Envoy", level: 7 },
    { subclass: Subclasses.BANNERET, feature: "Inspiring Surge", level: 10 },
    { subclass: Subclasses.BANNERET, feature: "Bulwark (Banneret)", level: 15 },

    // Battle Master
    { subclass: Subclasses.BATTLE_MASTER, feature: "Combat Superiority", level: 3 },
    { subclass: Subclasses.BATTLE_MASTER, feature: "Student of War", level: 3 },
    { subclass: Subclasses.BATTLE_MASTER, feature: "Know Your Enemy", level: 7 },
    { subclass: Subclasses.BATTLE_MASTER, feature: "Improved Combat Superiority", level: 10 },
    { subclass: Subclasses.BATTLE_MASTER, feature: "Relentless (Battle Master)", level: 15 },

    // Cavalier
    { subclass: Subclasses.CAVALIER, feature: "Bonus Proficiency (Cavalier)", level: 3 },
    { subclass: Subclasses.CAVALIER, feature: "Born to the Saddle", level: 3 },
    { subclass: Subclasses.CAVALIER, feature: "Unwavering Mark", level: 3 },
    { subclass: Subclasses.CAVALIER, feature: "Warding Maneuver", level: 7 },
    { subclass: Subclasses.CAVALIER, feature: "Hold the Line", level: 10 },
    { subclass: Subclasses.CAVALIER, feature: "Ferocious Charger", level: 15 },
    { subclass: Subclasses.CAVALIER, feature: "Vigilant Defender", level: 18 },

    // Champion
    { subclass: Subclasses.CHAMPION, feature: "Improved Critical (Champion)", level: 3 },
    { subclass: Subclasses.CHAMPION, feature: "Remarkable Athlete", level: 7 },
    { subclass: Subclasses.CHAMPION, feature: "Additional Fighting Style (Champion)", level: 10 },
    { subclass: Subclasses.CHAMPION, feature: "Superior Critical", level: 15 },
    { subclass: Subclasses.CHAMPION, feature: "Survivor", level: 18 },

    // Echo Knight
    { subclass: Subclasses.ECHO_KNIGHT, feature: "Manifest Echo", level: 3 },
    { subclass: Subclasses.ECHO_KNIGHT, feature: "Unleash Incarnation", level: 3 },
    { subclass: Subclasses.ECHO_KNIGHT, feature: "Echo Avatar", level: 7 },
    { subclass: Subclasses.ECHO_KNIGHT, feature: "Shadow Martyr", level: 10 },
    { subclass: Subclasses.ECHO_KNIGHT, feature: "Reclaim Potential", level: 15 },
    { subclass: Subclasses.ECHO_KNIGHT, feature: "Legion of One", level: 18 },

    // Eldritch Knight
    { subclass: Subclasses.ELDRITCH_KNIGHT, feature: "Spellcasting (Eldritch Knight)", level: 3 },
    { subclass: Subclasses.ELDRITCH_KNIGHT, feature: "Weapon Bond", level: 3 },
    { subclass: Subclasses.ELDRITCH_KNIGHT, feature: "War Magic", level: 7 },
    { subclass: Subclasses.ELDRITCH_KNIGHT, feature: "Eldritch Strike", level: 10 },
    { subclass: Subclasses.ELDRITCH_KNIGHT, feature: "Arcane Charge", level: 15 },
    { subclass: Subclasses.ELDRITCH_KNIGHT, feature: "Improved War Magic", level: 18 },

    // Psi Warrior
    { subclass: Subclasses.PSI_WARRIOR, feature: "Psionic Power", level: 3 },
    { subclass: Subclasses.PSI_WARRIOR, feature: "Telekinetic Adept", level: 7 },
    { subclass: Subclasses.PSI_WARRIOR, feature: "Guarded Mind", level: 10 },
    { subclass: Subclasses.PSI_WARRIOR, feature: "Bulwark of Force", level: 15 },
    { subclass: Subclasses.PSI_WARRIOR, feature: "Telekinetic Master", level: 18 },

    // Rune Knight
    { subclass: Subclasses.RUNE_KNIGHT, feature: "Bonus Proficiencies (Rune Knight)", level: 3 },
    { subclass: Subclasses.RUNE_KNIGHT, feature: "Rune Carver", level: 3 },
    { subclass: Subclasses.RUNE_KNIGHT, feature: "Giant's Might", level: 3 },
    { subclass: Subclasses.RUNE_KNIGHT, feature: "Runic Shield", level: 7 },
    { subclass: Subclasses.RUNE_KNIGHT, feature: "Great Stature", level: 10 },
    { subclass: Subclasses.RUNE_KNIGHT, feature: "Master of Runes", level: 15 },
    { subclass: Subclasses.RUNE_KNIGHT, feature: "Runic Juggernaut", level: 18 },

    // Samurai
    { subclass: Subclasses.SAMURAI, feature: "Bonus Proficiency (Samurai)", level: 3 },
    { subclass: Subclasses.SAMURAI, feature: "Fighting Spirit", level: 3 },
    { subclass: Subclasses.SAMURAI, feature: "Elegant Courtier", level: 7 },
    { subclass: Subclasses.SAMURAI, feature: "Tireless Spirit", level: 10 },
    { subclass: Subclasses.SAMURAI, feature: "Rapid Strike", level: 15 },
    { subclass: Subclasses.SAMURAI, feature: "Strength Before Death", level: 18 },
  ]

  for (const feature of features) {
    await prisma.feature.upsert({
      where: { engName: feature.engName },
      update: feature,
      create: feature,
    })
  }

  for (const link of links) {
    const subclass = await prisma.subclass.findFirst({ where: { name: link.subclass } })
    const feature = await prisma.feature.findUnique({ where: { engName: link.feature } })
    if (!subclass || !feature) {
      console.warn(`Пропуск прив’язки: ${link.subclass} - ${link.feature}`)
      continue
    }

    const existing = await prisma.subclassFeature.findFirst({
      where: { subclassId: subclass.subclassId, featureId: feature.featureId },
    })

    const data = {
      subclassId: subclass.subclassId,
      featureId: feature.featureId,
      levelGranted: link.level,
      grantsSpellSlots: feature.grantsSpellSlots ???????? false,
    }

    if (existing) {
      await prisma.subclassFeature.update({
        where: { subclassFeatureId: existing.subclassFeatureId },
        data,
      })
    } else {
      await prisma.subclassFeature.create({ data })
    }
  }

  console.log(`Готово. Оновлено ${features.length} фіч та ${links.length} прив’язок до підкласів.`)
}
